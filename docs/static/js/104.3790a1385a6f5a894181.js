(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{238:function(e,t,n){"use strict";var a=n(53),r=n.n(a),i=n(54),l=n.n(i),o=n(20),s=n.n(o),u=n(55),c=n.n(u),p=n(56),d=n.n(p),f=n(38),h=n.n(f),m=n(9),g=n.n(m),y=n(0),v=n.n(y),b=n(57),E=n.n(b),x=n(245);n(239);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var r=h()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var C=function(e){c()(n,e);var t=T(n);function n(e){var a;return r()(this,n),a=t.call(this,e),g()(s()(a),"generateData",(function(){var e=[];if(!a.props.data)return[];for(var t in a.props.data)e.push(S({name:t},a.props.data[t]));return e})),a}return l()(n,[{key:"render",value:function(){return v.a.createElement("div",{className:"prop-type-desc-table-wrapper"},v.a.createElement(x.a,{className:"prop-type-desc-table",columns:[{headRenderer:"Name",bodyRenderer:function(e){return e.name}},{headRenderer:"Type",bodyRenderer:function(e){return e.type}},{headRenderer:"Default",bodyRenderer:function(e){return e.default}},{headRenderer:"Description",bodyRenderer:function(e){return e.desc}}],data:this.generateData(),isPaginated:!1}))}}]),n}(y.Component);C.propTypes={data:E.a.object},t.a=C},239:function(e,t,n){var a=n(98),r=n(240);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},240:function(e,t,n){"use strict";n.r(t);var a=n(58),r=n.n(a)()(!1);r.push([e.i,".prop-type-desc-table-wrapper {\n  overflow-x: auto;\n  overflow-y: visible; }\n  .prop-type-desc-table-wrapper .prop-type-desc-table {\n    border: none; }\n",""]),t.default=r},291:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var a=n(53),r=n.n(a),i=n(54),l=n.n(i),o=n(20),s=n.n(o),u=n(55),c=n.n(u),p=n(56),d=n.n(p),f=n(38),h=n.n(f),m=n(9),g=n.n(m),y=n(0),v=n.n(y),b=n(57),E=n.n(b),x=n(214),w=n.n(x),S=n(219),T=n.n(S),C=n(296),R=n(249),I=n(258);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var r=h()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var D=function(e){c()(n,e);var t=P(n);function n(e){var a;r()(this,n);for(var i=arguments.length,l=new Array(i>1?i-1:0),o=1;o<i;o++)l[o-1]=arguments[o];return a=t.call.apply(t,[this,e].concat(l)),g()(s()(a),"triggerElement",(function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1})),g()(s()(a),"handleInputChange",(function(e){a.setState({changeText:e})})),g()(s()(a),"showInput",(function(e){a.setState({hide:!1},(function(){a.textField&&a.textField.current&&a.textField.current.focus(),a.props.onEditStart&&a.props.onEditStart(e)}))})),g()(s()(a),"handleDown",(function(e){var t=e||event;!1!==a.state.hide||a.triggerElement(t.target,a.editableFieldEl)||a.finishEdit(e)})),g()(s()(a),"finishEdit",(function(e){var t=a.state.text!==a.state.changeText;t&&a.props.beforeChange&&!1===a.props.beforeChange(a.state.changeText)?e.preventDefault():a.setState({hide:!0,text:T()(a.state.changeText),changeText:T()(a.state.changeText)},(function(){a.props.onEditEnd&&a.props.onEditEnd(e),t&&a.props.onChange&&a.props.onChange(a.state.text)}))})),g()(s()(a),"handleKeyDown",(function(e){var t=a.props.regExp;return t&&!t.test(e.key)?(event.preventDefault(),!1):(13===e.keyCode&&a.finishEdit(e),!0)})),a.editableField=Object(y.createRef)(),a.editableFieldEl=null,a.editableFieldText=Object(y.createRef)(),a.editableFieldTextEl=null,a.textField=Object(y.createRef)(),a.state={hide:!0,text:e.value,changeText:e.value,inputAutoWidth:0},a}return l()(n,[{key:"componentDidMount",value:function(){this.editableFieldEl=this.editableField&&this.editableField.current,this.editableFieldTextEl=this.editableFieldText&&this.editableFieldText.current,I.a.addEvent(document,"mousedown",this.handleDown),I.a.addEvent(document,"keydown",this.handleKeyDown)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.value!==this.state.text&&this.setState({text:e.value,changeText:e.value}),!0===e.disabled&&e.disabled!==this.props.disabled&&this.setState({hide:!0,changeText:this.state.text},(function(){t.props.onEditEnd&&t.props.onEditEnd()}))}},{key:"componentDidUpdate",value:function(){var e=this.state.inputAutoWidth,t=this.editableFieldTextEl&&this.editableFieldTextEl.offsetWidth;e!==t&&this.setState({inputAutoWidth:t})}},{key:"componentWillUnmount",value:function(){I.a.removeEvent(document,"mousedown",this.handleDown),I.a.removeEvent(document,"keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=e.style,r=e.name,i=e.disabled,l=e.tip,o=e.tipPosition,s=e.title,u=e.onMouseDown,c=e.onClick,p=e.showModal,d=e.maxLength,f=e.autoWidth,h=e.parentEl,m=this.state,y=m.changeText,b=m.text,E=m.hide,x=m.inputAutoWidth,S=f&&"number"==typeof x?{width:parseInt(x)+42}:{};return v.a.createElement(R.a,{tipContent:l,parentEl:h,position:o},v.a.createElement("div",{ref:this.editableField,className:w()("editable-field",g()({},n,n)),style:a,title:"".concat(i?"":s),onMouseDown:u,onClick:c},v.a.createElement("span",{className:"editable-field-hidden-text",ref:this.editableFieldText,disabled:i},y),v.a.createElement("span",{className:"editable-field-text",disabled:i},b),!0===E?v.a.createElement("span",{className:"editable-field-span",onClick:this.showInput},b,v.a.createElement("i",{className:"fas fa-pencil-alt editable-field-icon","aria-hidden":"true"})):v.a.createElement(C.a,{ref:this.textField,style:S,className:"editable-field-input",maxLength:d,value:y,onChange:this.handleInputChange}),v.a.createElement("input",{type:"hidden",value:b,readOnly:!0,name:r}),p&&!E?v.a.createElement("div",{className:"editable-modal",onClick:this.finishEdit}):null,t))}}]),n}(y.Component);D.propTypes={children:E.a.any,className:E.a.string,style:E.a.object,value:E.a.string,name:E.a.string,title:E.a.string,maxLength:E.a.number,tip:E.a.string,tipPosition:E.a.string,regExp:E.a.object,disabled:E.a.bool,showModal:E.a.bool,autoWidth:E.a.bool,parentEl:E.a.object,onMouseDown:E.a.func,onClick:E.a.func,onBlur:E.a.func,onChange:E.a.func,onEditStart:E.a.func,onEditEnd:E.a.func,beforeChange:E.a.func},D.defaultProps={title:"",value:"text",name:"",disabled:!1,showModal:!1,autoWidth:!1};var F=D},312:function(e,t,n){"use strict";function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,l=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw l}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var i={};function l(e,t){return e&&t?e in i?i[e]:(t.innerHTML=e.repeat(100),i[e]=t.getBoundingClientRect().width/100):0}t.a={calculateCharWidth:l,calculateStringWidth:function(e,t){if(!e||!t)return 0;var n,r=0,i=a(e);try{for(i.s();!(n=i.n()).done;){r+=l(n.value,t)}}catch(e){i.e(e)}finally{i.f()}return r}}},393:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(217),r=n.n(a),i=n(53),l=n.n(i),o=n(54),s=n.n(o),u=n(20),c=n.n(u),p=n(55),d=n.n(p),f=n(56),h=n.n(f),m=n(38),g=n.n(m),y=n(9),v=n.n(y),b=n(0),E=n.n(b),x=n(57),w=n.n(x),S=n(214),T=n.n(S),C=n(219),R=n.n(C),I=n(291),P=n(250),D=n(235),F=n(272),N=n(312),O=n(258),W=n(241);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return h()(this,n)}}var A=function(e){d()(n,e);var t=k(n);function n(e){var a;l()(this,n);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return a=t.call.apply(t,[this,e].concat(o)),v()(c()(a),"getSeparators",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.separators;return e&&e.length>0?e:DEFAULT_SEPARATORS})),v()(c()(a),"generateSeparatorReg",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.separators,t=a.getSeparators(e);return new RegExp("\\s*".concat(t?t.map((function(e){return"\\".concat(e)})).join("|"):"","\\s*"),"g")})),v()(c()(a),"removeItem",(function(e){var t=a.state.data;t&&!(t.length<1)&&e in t&&(t.splice(e,1),a.setState({data:t},(function(){var e=a.props.onChange;e&&e(t)})))})),v()(c()(a),"calInputIndex",(function(e){if(!a.wrapperEl)return-1;for(var t=F.a.getOffset(a.wrapperEl).left,n=t+a.wrapperEl.getBoundingClientRect().width,r=e.clientX,i=e.clientY,l=-1;r>=t;){var o=document.elementFromPoint(r,i),s=F.a.findParentByClassName(o,"tag-field-item-wrapper");if(s){l=+s.dataset.index+1;break}r--}if(l<0)for(;r<=n;){var u=document.elementFromPoint(r,i),c=F.a.findParentByClassName(u,"tag-field-item-wrapper");if(c){l=+c.dataset.index;break}r++}return l<0?a.state.data.length:l})),v()(c()(a),"handleMouseDown",(function(e){if(!(a.props.disabled||F.a.findParentByClassName(e.target,"tag-field-item-wrapper")||F.a.hasClass(e.target,"tag-field-input"))){var t=function(e){var t=this;return function(){if(t.state.itemEditing||t.wrapperEl&&F.a.findParentByClassName(e.target,"tag-field")!=t.wrapperEl)t.setState({inputIndex:t.state.data.length});else{var n=e.clientX,a=e.clientY;if(n&&a&&t.wrapperEl)if(F.a.getOffset(t.wrapperEl)){var r=t.calInputIndex(e);t.setState({inputIndex:r},(function(){setTimeout((function(){t.input&&t.input.current&&t.input.current.focus()}),0)}))}}}}.bind(c()(a))(e);a.state.inputValue?a.insertInputValue(t):t()}})),v()(c()(a),"handleInputChange",(function(e){if(!a.props.disabled){var t=e.target.value,n=t?t.replace(/\r?\n$/gm,"").replace(/\r?\n/gm,a.getSeparators()[0]):t;a.setState({inputValue:n},(function(){var e=a.props.onInputChange,t=N.a.calculateStringWidth(n,a.testEl),r=a.inputWrapper&&a.inputWrapper.current,i=a.input&&a.input.current;r&&(r.style.width="".concat(t+9,"px")),i&&(i.style.height=Math.max(i.scrollHeight,24)+"px"),e&&e(n)}))}})),v()(c()(a),"handleInputKeyDown",(function(e){a.props.disabled||13===e.keyCode&&a.insertInputValue()})),v()(c()(a),"insertInputValue",(function(e){if(!a.props.disabled){var t=a.state,n=t.data,i=t.inputValue,l=t.inputIndex;if(i){var o=R()(i).split(a.generateSeparatorReg()).filter((function(e){return!!e}));n.splice.apply(n,[l,0].concat(r()(o))),a.setState({data:n,inputValue:"",inputIndex:l+o.length},(function(){a.inputWrapper&&a.inputWrapper.current&&(a.inputWrapper.current.style.width="9px");var t=a.props.onChange;t&&t(n),e&&e()}))}}})),v()(c()(a),"handleItemChange",(function(e,t){if(!a.props.disabled){var n=a.state.data;if(e){var i=e.split(a.generateSeparatorReg()).filter((function(e){return e}));n.splice.apply(n,[t,1].concat(r()(i)))}else n.splice(t,1);a.setState({data:n},(function(){var e=a.props.onChange;e&&e(n)}))}})),v()(c()(a),"handleItemEditStart",(function(e){a.props.disabled||a.setState({itemEditing:!0,editingItemIndex:e})})),v()(c()(a),"handleItemEditEnd",(function(){a.props.disabled||a.setState({itemEditing:!1})})),a.inputSymbol=Symbol("input"),a.wrapper=Object(b.createRef)(),a.wrapperEl=null,a.inputWrapper=Object(b.createRef)(),a.input=Object(b.createRef)(),a.test=Object(b.createRef)(),a.testEl=null,a.state={wrapperWidth:"auto",data:e.data,inputValue:e.inputValue,inputIndex:e.data.length,itemEditing:!1,editingItemIndex:-1},a}return s()(n,[{key:"componentDidMount",value:function(){this.wrapperEl=this.wrapper&&this.wrapper.current,this.testEl=this.test&&this.test.current,O.a.addEvent(document,"mousedown",this.handleMouseDown),this.setState({wrapperWidth:this.wrapperEl?this.wrapperEl.clientWidth:"auto"})}},{key:"componentWillUnmount",value:function(){O.a.removeEvent(document,"mousedown",this.handleMouseDown)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.style,r=t.valueField,i=t.displayField,l=t.disabled,o=t.placeholder,s=t.isTagAutoWidth,u=t.tagRemoveIconCls,c=this.state,p=c.wrapperWidth,d=c.data,f=c.inputValue,h=c.inputIndex,m=c.itemEditing,g=c.editingItemIndex,y=D.a.genIndexArray(d.length);return y.splice(h,0,this.inputSymbol),E.a.createElement("div",{ref:this.wrapper,className:T()("tag-field",v()({},n,n)),style:a,disabled:l},y&&y.map((function(t){return t===e.inputSymbol?l?null:E.a.createElement("div",{key:"input",ref:e.inputWrapper,className:"tag-field-input-wrapper"},E.a.createElement("textarea",{ref:e.input,className:"tag-field-input",style:{width:p},autoFocus:!0,value:f,placeholder:d.length<1&&o?o:"",onChange:e.handleInputChange,onKeyDown:e.handleInputKeyDown})):E.a.createElement("span",{key:t,"data-index":t,className:T()("tag-field-item-wrapper",v()({},d[t].className,d[t].className))},E.a.createElement(I.a,{className:"tag-field-item-field",value:D.a.getTextByDisplayField(d[t],i,r),disabled:l||m&&t!==g,autoWidth:s,onChange:function(n){return e.handleItemChange(n,t)},onEditStart:function(){return e.handleItemEditStart(t)},onEditEnd:e.handleItemEditEnd},E.a.createElement(P.a,{className:"tag-field-item-field-delete-button",iconCls:u,disabled:l||m&&t!==g,onClick:function(){return e.removeItem(t)}})))})),E.a.createElement("div",{ref:this.test,className:"tag-field-test-container"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{prevProps:e,data:W.a.getDerivedState(e,t,"data"),inputValue:W.a.getDerivedState(e,t,"inputValue")}}}]),n}(b.Component);v()(A,"DEFAULT_SEPARATORS",[","]),A.propTypes={className:w.a.string,style:w.a.object,data:w.a.array,inputValue:w.a.oneOfType([w.a.string,w.a.number]),valueField:w.a.string,displayField:w.a.string,separators:w.a.array,disabled:w.a.bool,placeholder:w.a.string,isTagAutoWidth:w.a.bool,tagRemoveIconCls:w.a.string,onChange:w.a.func,onInputChange:w.a.func},A.defaultProps={data:[],inputValue:"",valueField:"value",displayField:"text",separators:A.DEFAULT_SEPARATORS,disabled:!1,placeholder:"",isTagAutoWidth:!0,tagRemoveIconCls:"fas fa-times"};var j=A},398:function(e){e.exports=JSON.parse('{"className":{"type":"PropTypes.string","desc":"The CSS class name of the root element."},"style":{"type":"PropTypes.object","desc":"Override the styles of the root element."},"data":{"type":"PropTypes.array","default":"[]"},"inputValue":{"type":"PropTypes.number","default":""},"valueField":{"type":"PropTypes.string","default":"value"},"displayField":{"type":"PropTypes.string","default":"text"},"separators":{"type":"PropTypes.array","default":"TagField.DEFAULT_SEPARATORS"},"disabled":{"type":"PropTypes.bool","default":"false"},"placeholder":{"type":"PropTypes.string","default":""},"isTagAutoWidth":{"type":"PropTypes.bool","default":"true"},"tagRemoveIconCls":{"type":"PropTypes.string","default":"fas fa-times"},"onChange":{"type":"PropTypes.func"},"onInputChange":{"type":"PropTypes.func"}}')},537:function(e,t,n){var a=n(98),r=n(538);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},538:function(e,t,n){"use strict";n.r(t);var a=n(58),r=n.n(a)()(!1);r.push([e.i,".tag-field-examples .tag-field-item-wrapper.duplicate .editable-field-text {\n  color: #2196f3; }\n\n.tag-field-examples .tag-field-item-wrapper.unfound .editable-field-text {\n  color: #d8534e; }\n",""]),t.default=r},746:function(e,t,n){"use strict";n.r(t);var a=n(53),r=n.n(a),i=n(54),l=n.n(i),o=n(20),s=n.n(o),u=n(55),c=n.n(u),p=n(56),d=n.n(p),f=n(38),h=n.n(f),m=n(9),g=n.n(m),y=n(0),v=n.n(y),b=n(393),E=n(243),x=n(244),w=n(238),S=n(398);n(537);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var r=h()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var C=function(e){c()(n,e);var t=T(n);function n(e){var a;return r()(this,n),a=t.call(this,e),g()(s()(a),"handleChange",(function(e){a.setState({value:e},(function(){return console.log("value changed::",e)}))})),a.state={value:[]},a}return l()(n,[{key:"render",value:function(){var e=this.state.value;return(v.a.createElement("div",{className:"example tag-field-examples"},v.a.createElement("h2",{className:"example-title"},"TagField"),v.a.createElement("p",null,v.a.createElement("span",null,"TagField"),"allow users to input text."),v.a.createElement("h2",{className:"example-title"},"Examples"),v.a.createElement(E.a,null,v.a.createElement(x.a,{className:"example-header",title:"With type"}),v.a.createElement("div",{className:"widget-content"},v.a.createElement("div",{className:"example-content"},v.a.createElement("div",{className:"examples-wrapper"},v.a.createElement("p",null,v.a.createElement("code",null,"TagField")),v.a.createElement(b.a,{style:{height:100},data:e,placeholder:"Please input ...",separators:[",",";","|"],onChange:this.handleChange}))))),v.a.createElement("h2",{className:"example-title"},"Properties"),v.a.createElement(w.a,{data:S})))}}]),n}(y.Component);t.default=C}}]);