(self.webpackChunkalcedo_ui=self.webpackChunkalcedo_ui||[]).push([[6860],{76860:(e,t,a)=>{"use strict";a.d(t,{Z:()=>L});var r=a(22122),n=a(81253),i=a(6610),o=a(5991),s=a(63349),l=a(10379),m=a(46070),h=a(77608),f=a(96156),c=a(37699),d=a(45697),u=a.n(d),p=a(79958),g=a(44395),y=a.n(g),v=a(41844),Y=a.n(v),Z=a(11669),T=a(31674),M=a(37470),b=a(97303),C=a(4090),x=a(23046),D=a(87712),P=a(65248),k=a(81540),O=a(34265),E=a(67243),V=a(19605);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,f.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B=function(e){(0,l.Z)(u,e);var t,a,d=(t=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,h.Z)(t);if(a){var n=(0,h.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,m.Z)(this,e)});function u(e){var t;(0,i.Z)(this,u);for(var a=arguments.length,r=new Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=arguments[n];t=d.call.apply(d,[this,e].concat(r)),(0,f.Z)((0,s.Z)(t),"handleDatePickerChange",(function(e,a){t.setState((0,f.Z)({},e,F(F({},t.state[e]),{},{datePickerLevel:a})))})),(0,f.Z)((0,s.Z)(t),"handleTextFieldChange",(function(e,a){if(a&&a.length&&y()(a,t.props.dateFormat,!0).isValid()){var r=y()(a).format("YYYY-MM-DD"),n=r.split("-")[0],i=r.split("-")[1],o=r.split("-")[2];"left"==e?t.setState({startTime:y()(a).isBefore(t.state.right.text)?a:t.state.startTime,left:F(F({},t.state.left),{},{text:y()(a).isBefore(t.state.right.text)?a:t.state.left.text,year:y()(a).isBefore(t.state.right.text)?n:t.state.left.selectYear,month:y()(a).isBefore(t.state.right.text)?i:t.state.left.selectMonth,day:y()(a).isBefore(t.state.right.text)?o:t.state.left.selectDay}),right:F(F({},t.state.right),{},{month:n==t.state.right.year&&i==t.state.right.month?12==i?1:+i+1:t.state.right.month,year:n==t.state.right.year&&i==t.state.right.month?+n+1:t.state.right.year})}):t.setState({endTime:y()(t.state.startTime).isBefore(a)?a:t.state.endTime,right:F(F({},t.state.right),{},{text:y()(t.state.startTime).isBefore(a)?a:t.state.right.text,year:y()(t.state.startTime).isBefore(a)?n==t.state.left.year&&i==t.state.left.month?t.state.right.year:n:t.state.right.year,month:y()(t.state.startTime).isBefore(a)?n==t.state.left.year&&i==t.state.left.month?+i+1:i:t.state.right.month,day:y()(t.state.startTime).isBefore(a)?n==t.state.left.year&&i==t.state.left.month?t.state.right.day:o:t.state.right.day})})}})),(0,f.Z)((0,s.Z)(t),"handleDayPickerChange",(function(e,a){if(t.state.endTime)t.setState((0,f.Z)({startTime:a.time,endTime:"",hoverTime:""},e,F(F({},t.state[e]),{},{text:a.time,year:a.year,month:a.month,day:a.day})));else if(t.state.startTime){var r,n=t.state.startTime;y()(n).isBefore(a.time)?r=a.time:(r=n,n=a.time),t.setState({startTime:n,endTime:r,historyStartTime:n,historyEndTime:r,hoverTime:"",value:[y()(n).format(t.props.dateFormat),y()(r).format(t.props.dateFormat)],left:F(F({},t.state.left),{},{text:n}),right:F(F({},t.state.right),{},{text:r})},(function(){t.props.onChange&&t.props.onChange([y()(n).format(t.props.dateFormat),y()(r).format(t.props.dateFormat)])}))}else t.setState((0,f.Z)({startTime:a.time,endTime:"",hoverTime:""},e,F(F({},t.state[e]),{},{text:a.time,year:a.year,month:a.month,day:a.day})))})),(0,f.Z)((0,s.Z)(t),"handleDayPickerHover",(function(e,a){var r=t.state.startTime,n=t.state.endTime;r&&""==n&&t.setState({hoverTime:a.time,left:F(F({},t.state.left),{},{text:y()(r).isBefore(a.time)?r:a.time}),right:F(F({},t.state.right),{},{text:y()(r).isBefore(a.time)?a.time:r})})})),(0,f.Z)((0,s.Z)(t),"handleMonthAndYearChange",(function(e,a){t.setState((0,f.Z)({},e,F(F({},t.state[e]),{},{year:a.year,month:a.month})))})),(0,f.Z)((0,s.Z)(t),"handleMonthPickerChange",(function(e,a){t.setState((0,f.Z)({},e,F(F({},t.state[e]),{},{datePickerLevel:"day",year:a.year,month:a.month})))})),(0,f.Z)((0,s.Z)(t),"handleYearPickerChange",(function(e,a){t.setState((0,f.Z)({},e,F(F({},t.state[e]),{},{datePickerLevel:"month",year:a})))})),(0,f.Z)((0,s.Z)(t),"togglePopup",(function(e){t.validValue&&t.setState({popupVisible:!t.state.popupVisible})})),(0,f.Z)((0,s.Z)(t),"closePopup",(function(){var e=t.props.dateFormat,a=t.state,r=a.left,n=a.right,i=a.startTime,o=a.endTime,s=a.historyStartTime,l=a.historyEndTime,m=a.hoverTime,h=F(F({},r),{},{datePickerLevel:"day",text:o?r.text:s,year:o?r.year:s&&l?y()(s).format("YYYY"):r.year,month:o?r.month:s&&l?y()(s).format("MM"):r.month,day:o?r.day:s&&l?y()(s).format("DD"):r.day}),f=F(F({},n),{},{datePickerLevel:"day",text:o?n.text:l,year:o?n.year:s&&l?y()(s).format("YYYY")==y()(l).format("YYYY")&&y()(s).format("MM")==y()(l).format("MM")&&12==y()(l).format("MM")?+y()(l).format("YYYY")+1:y()(l).format("YYYY"):n.year,month:o?n.month:s&&l?y()(s).format("YYYY")==y()(l).format("YYYY")&&y()(s).format("MM")==y()(l).format("MM")?12==y()(l).format("MM")?1:+y()(l).format("MM")+1:y()(l).format("MM"):n.month,day:o?n.day:s&&l?y()(l).format("DD"):n.day});!t.props.disabled&&t.setState({popupVisible:!1,startTime:o?i:s,endTime:o||l,hoverTime:o?m:"",value:[y()(h.text,e),y()(f.text,e)],left:h,right:f},(function(){t.props.onChange&&t.props.onChange([y()(h.text,e),y()(f.text,e)])}))})),(0,f.Z)((0,s.Z)(t),"handlePopupRender",(function(e){if(!t.props.position){var a=E.Z.isAbove(t.dropdownEl,t.triggerEl,(0,p.findDOMNode)(e));a!==t.state.isAbove&&t.setState({isAbove:a})}})),(0,f.Z)((0,s.Z)(t),"setValue",(function(e,a){if(e&&e.length>1){var r=e[0],n=e[1];if(r)if(y()(r,a).isValid()||n&&y()(r,a).isValid()){var i=F(F({},t.state.left),{},{text:r,year:y()(e[0]).format("YYYY"),month:y()(e[0]).format("MM"),day:y()(e[0]).format("DD")}),o=F(F({},t.state.right),{},{text:n,year:n?y()(e[1]).format("YYYY"):y()(e[0]).format("YYYY"),month:n?y()(e[1]).format("MM"):y()(e[0]).format("MM"),day:n?y()(e[1]).format("DD"):y()(e[0]).format("DD")});t.setState({left:O.Z.setDateRange(i,o).start,right:O.Z.setDateRange(i,o).end,startTime:r,endTime:n,historyStartTime:r,historyEndTime:n})}else t.validValue=!1,console.error("Invalid date");else{var s=F(F({},t.state.left),{},{text:"",year:y()().format("YYYY"),month:y()().format("MM"),day:y()().format("DD")}),l=F(F({},t.state.right),{},{text:"",year:y()().format("YYYY"),month:y()().format("MM"),day:y()().format("DD")});t.setState({left:O.Z.setDateRange(s,l).start,right:O.Z.setDateRange(s,l).end,startTime:"",endTime:"",historyStartTime:"",historyEndTime:""})}}}));var o=y()();t.validValue=!0,t.trigger=(0,c.createRef)(),t.triggerEl=null;var l="",m="";return t.state={value:e.value,popupVisible:!1,isAbove:!1,left:{text:l,datePickerLevel:"day",year:o.format("YYYY"),month:o.format("MM"),day:o.format("DD")},right:{text:m,datePickerLevel:"day",year:12==o.format("MM")?+o.format("YYYY")+1:o.format("YYYY"),month:12==o.format("MM")?1:+o.format("MM")+1,day:o.format("DD")},startTime:"",endTime:"",historyStartTime:"",historyEndTime:"",hoverTime:""},t}return(0,o.Z)(u,[{key:"componentDidMount",value:function(){this.triggerEl=this.trigger&&this.trigger.current&&(0,p.findDOMNode)(this.trigger.current);var e=this.props,t=e.value,a=e.dateFormat;this.setValue(t,a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,i=t.style,o=t.name,s=t.placeholder,l=t.dateFormat,m=t.maxValue,h=t.minValue,d=t.label,u=t.isLabelAnimate,p=t.position,g=t.theme,v=t.popupClassName,D=t.rightIconCls,k=t.readOnly,E=t.disabled,V=t.parentEl,S=(0,n.Z)(t,["className","style","name","placeholder","dateFormat","maxValue","minValue","label","isLabelAnimate","position","theme","popupClassName","rightIconCls","readOnly","disabled","parentEl"]),B=this.state,L=B.popupVisible,R=B.left,A=B.right,N=B.startTime,I=B.endTime,j=B.hoverTime,w=B.isAbove,H=this.handleMonthAndYearChange,_=this.handleDayPickerChange,q=this.handleDatePickerChange,z=this.handleDayPickerHover,G=this.handleMonthPickerChange,J=this.handleYearPickerChange,K=R.text&&A.text?R.text+"~ "+A.text:"",Q=A.year,U=A.month;Q=1==U?+Q-1:Q,U=1==U?11:+U-2;var W=O.Z.MonthDays(Q)[U],X=m&&y()([Q,U,W]).isAfter(m)?m:y()([Q,U,W]).format("YYYY-MM-DD"),$=R.year,ee=R.month;$=12==ee?+$+1:$,ee=12==ee?1:+ee+1;var te=h&&y()([$,ee-1,1]).isBefore(h)?h:y()([$,ee-1,1]).format("YYYY-MM-DD"),ae=F(F({},R),{},{value:R.text,maxValue:X,minValue:h,startTime:N,endTime:I,hoverTime:j,dateFormat:l}),re=F(F({},A),{},{value:A.text,minValue:te,maxValue:m,startTime:N,endTime:I,hoverTime:j,dateFormat:l});return c.createElement("div",{className:Y()("material-date-range-picker",(0,f.Z)({},a,a)),style:i},c.createElement(T.Z,{ref:this.trigger,className:"material-date-range-picker-field",theme:g,name:o,placeholder:s,label:d,isLabelAnimate:u,value:K,readOnly:!0,disabled:E,clearButtonVisible:!1,isFocusedSelectAll:!1,popupVisible:L,rightIconCls:D,onClick:function(t){e.togglePopup(t)}}),c.createElement(x.Z,{className:"material-date-range-picker-popup ".concat(v),visible:L,triggerEl:this.triggerEl,parentEl:V,position:p||(w?P.Z.TOP_LEFT:P.Z.BOTTOM_LEFT),hasTriangle:!1,onRender:this.handlePopupRender,onRequestClose:this.closePopup},c.createElement("div",{className:"calendar-date-input-wrap"},c.createElement("div",{className:"DateRangePickerHeaderInput"},c.createElement(Z.Z,{className:"fl calendar-input",placeholder:s,value:R.text,clearButtonVisible:!1,readOnly:k,onChange:function(t){e.handleTextFieldChange("left",t)}}),c.createElement(Z.Z,{className:"fl calendar-input",placeholder:s,value:A.text,clearButtonVisible:!1,readOnly:k,onChange:function(t){e.handleTextFieldChange("right",t)}}))),"day"==R.datePickerLevel?c.createElement(M.Z,(0,r.Z)({},S,ae,{isFooter:!1,isRange:!0,monthAndYearChange:function(e){return H("left",e)},onChange:function(e){return _("left",e)},previousClick:function(e){return q("left",e)},hoverHandle:function(e){return z("left",e)}})):"month"==R.datePickerLevel?c.createElement(b.Z,(0,r.Z)({},S,ae,{onChange:function(e){return G("left",e)},previousClick:function(e){return q("left",e)}})):c.createElement(C.Z,(0,r.Z)({},S,ae,{onChange:function(e){return J("left",e)}})),"day"==A.datePickerLevel?c.createElement(M.Z,(0,r.Z)({},S,re,{isFooter:!1,isRange:!0,monthAndYearChange:function(e){return H("right",e)},onChange:function(e){return _("right",e)},previousClick:function(e){return q("right",e)},hoverHandle:function(e){return z("left",e)}})):"month"==A.datePickerLevel?c.createElement(b.Z,(0,r.Z)({},S,re,{onChange:function(e){return G("right",e)},previousClick:function(e){return q("right",e)}})):c.createElement(C.Z,(0,r.Z)({},S,re,{onChange:function(e){return J("right",e)}}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=V.Z.getDerivedState(e,t,"value");return{prevProps:e,dateFormat:V.Z.getDerivedState(e,t,"dateFormat"),value:a}}}]),u}(c.Component);(0,f.Z)(B,"Theme",D.Z),(0,f.Z)(B,"Position",P.Z),B.propTypes={className:u().string,popupClassName:u().string,style:u().object,theme:u().oneOf(k.Z.enumerateValue(D.Z)),name:u().string,value:u().array,maxValue:u().string,minValue:u().string,placeholder:u().string,label:u().any,isLabelAnimate:u().bool,dateFormat:u().string,popupVisible:u().bool,readOnly:u().bool,disabled:u().bool,position:u().oneOf(k.Z.enumerateValue(P.Z)),rightIconCls:u().string,previousYearIconCls:u().string,previousMonthIconCls:u().string,nextYearIconCls:u().string,nextMonthIconCls:u().string,parentEl:u().object,onChange:u().func},B.defaultProps={name:"",placeholder:"Date",popupClassName:"",dateFormat:"YYYY-MM-DD",previousYearIconCls:"fas fa-angle-double-left",previousMonthIconCls:"fas fa-angle-left",nextYearIconCls:"fas fa-angle-double-right",nextMonthIconCls:"fas fa-angle-right",position:P.Z.BOTTOM_LEFT,readOnly:!1,disabled:!1};const L=B}}]);