"use strict";(self.webpackChunkalcedo_ui=self.webpackChunkalcedo_ui||[]).push([[6790],{36790:(e,n,t)=>{t.d(n,{Z:()=>B});var o=t(15671),l=t(43144),a=t(97326),r=t(60136),c=t(82963),i=t(61120),d=t(4942),s=t(37699),u=t(45697),p=t.n(u),g=t(47754),h=t(41844),f=t.n(h),v=t(1469),C=t.n(v),Z=t(87462),b=t(65059),m=t(88787),y=t(96453),I=t(8628),k=t(45580),N=t(87712),E=t(65248),T=t(59448),S=t(43226),x=t(81540),O=t(57949);function F(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?F(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var D=function(e){(0,r.Z)(p,e);var n,t,u=(n=p,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,i.Z)(n);if(t){var l=(0,i.Z)(this).constructor;e=Reflect.construct(o,arguments,l)}else e=o.apply(this,arguments);return(0,c.Z)(this,e)});function p(e){var n;(0,o.Z)(this,p);for(var t=arguments.length,l=new Array(t>1?t-1:0),r=1;r<t;r++)l[r-1]=arguments[r];return n=u.call.apply(u,[this,e].concat(l)),(0,d.Z)((0,a.Z)(n),"isCollapsed",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props,t=e.data,o=e.isNodeCollapsed,l=e.collapsed,a=e.index,r=e.depth,c=e.path;return(!t||!t[S.Z])&&(o?"function"==typeof o?o(t,a,r,c):!!o:l)})),(0,d.Z)((0,a.Z)(n),"toggleTreeNode",(function(e){e&&e.stopPropagation();var t=n.props.onNodeToggleStart;t&&t(),n.setState({collapsed:!n.state.collapsed},(function(){var e=n.props.onNodeToggleEnd;e&&e()}))})),(0,d.Z)((0,a.Z)(n),"handleCheckboxChange",(function(e){var t=n.props,o=t.data,l=t.path,a=t.value,r=t.onSelect,c=t.onDeselect;O.Z.isItemChecked(o,a,n.props)?c&&c(o,l,e):r&&r(o,l,e)})),(0,d.Z)((0,a.Z)(n),"handleRadioChange",(function(e){var t=n.props,o=t.data,l=t.path,a=t.onSelect;a&&a(o,l,e)})),(0,d.Z)((0,a.Z)(n),"handleClick",(function(e){e.preventDefault();var t=n.props,o=t.data,l=t.path,a=t.disabled,r=t.isLoading,c=t.readOnly;if(!(a||r||c||o.disabled||o.isLoading||o.readOnly)){var i=n.props.onClick;switch(i&&i(o,l,e),n.props.selectMode){case T.Z.MULTI_SELECT:return void n.handleCheckboxChange(e);case T.Z.SINGLE_SELECT:return void n.handleRadioChange(e)}}})),n.state={collapsed:n.isCollapsed(e)},n}return(0,l.Z)(p,[{key:"render",value:function(){var e=this,n=this.props,t=n.index,o=n.depth,l=(n.path,n.theme),a=n.selectTheme,r=n.selectMode,c=n.data,i=n.value,u=n.disabled,h=n.isLoading,v=n.readOnly,C=n.allowCollapse,N=n.isSelectRecursive,E=n.valueField,F=n.displayField,D=n.descriptionField,L=n.collapsedIconCls,R=n.expandedIconCls,M=n.radioUncheckedIconCls,V=n.radioCheckedIconCls,w=n.checkboxUncheckedIconCls,U=n.checkboxCheckedIconCls,j=n.checkboxIndeterminateIconCls,B=n.renderer,A=n.onMouseEnter,_=n.onMouseLeave,q=n.isDragging,G=n.isNodeToggling,z=this.state.collapsed,H=O.Z.isItemChecked(c,i,this.props),K=c.isLoading||h,W=c.disabled||u||K,$=S.Z in c,J=c.rightIconCls&&!c.iconCls?"right":"left";return s.createElement(g.bK,{droppableId:""+c.id,type:c.id,key:c.id},(function(n){var i;return s.createElement("div",(0,Z.Z)({ref:n.innerRef,className:"draggable-tree-node-wrapper"},n.droppableProps),$?null:s.createElement(m.Z,{tipContent:c.tip,position:c.tipPosition},s.createElement("div",{className:f()("draggable-tree-node",(i={},(0,d.Z)(i,"theme-".concat(l),l),(0,d.Z)(i,"dragging",q),(0,d.Z)(i,c.className,c.className),i)),style:P(P({},c.style),{},{paddingLeft:20*(o+1)}),disabled:W,readOnly:v,onClick:e.handleClick,onMouseEnter:A,onMouseLeave:_},s.createElement("div",{className:"draggable-tree-node-inner"},C&&c.children&&c.children.length>0?s.createElement(y.Z,{className:"draggable-tree-node-collapse-icon",iconCls:z?c.collapsedIconCls||L:c.expandedIconCls||R,onClick:e.toggleTreeNode}):null,r===T.Z.SINGLE_SELECT&&(M||V)?s.createElement(I.Z,{className:"draggable-tree-node-select",theme:a,checked:H,disabled:W,uncheckedIconCls:c.radioUncheckedIconCls||M,checkedIconCls:c.radioCheckedIconCls||V,disableTouchRipple:!0}):null,r===T.Z.MULTI_SELECT?s.createElement(k.Z,{className:"draggable-tree-node-select",theme:a,checked:H,indeterminate:!!N&&indeterminate,disabled:W,uncheckedIconCls:c.checkboxUncheckedIconCls||w,checkedIconCls:c.checkboxCheckedIconCls||U,indeterminateIconCls:c.checkboxIndeterminateIconCls||j,disableTouchRipple:!0}):null,K&&"left"===J?s.createElement("div",{className:"button-icon button-icon-left"},s.createElement(b.Z,{className:"button-loading-icon",size:"small"})):c.iconCls?s.createElement("i",{className:"button-icon button-icon-left ".concat(c.iconCls),"aria-hidden":"true"}):null,c.itemRenderer&&"function"==typeof c.itemRenderer?c.itemRenderer(c,t):B&&"function"==typeof B?B(c,t):c[D]?s.createElement("div",{className:"draggable-tree-node-content"},s.createElement("span",{className:"draggable-tree-node-content-value"},x.ZP.getTextByDisplayField(c,F,E)),s.createElement("span",{className:"draggable-tree-node-content-desc"},c[D])):x.ZP.getTextByDisplayField(c,F,E),K&&"right"===J?s.createElement(b.Z,{className:"button-icon button-icon-right button-loading-icon",size:"small"}):c.rightIconCls?s.createElement("i",{className:"button-icon button-icon-right ".concat(c.rightIconCls),"aria-hidden":"true"}):null))),c.children&&c.children.length>0?s.createElement("div",{className:"draggable-tree-node-children"+(z?" collapsed":"")},c.children.map((function(n,t){var l=l?[].concat(l,[{index:t,node:n}]):[{index:t,node:n}];return s.createElement(g._l,{key:n.id,draggableId:""+n.id,type:c.id,disableInteractiveElementBlocking:!1,isDragDisabled:G||W,index:t},(function(a,r){return s.createElement("div",null,s.createElement("div",(0,Z.Z)({ref:a.innerRef,style:a.draggableStyle},a.draggableProps,a.dragHandleProps),s.createElement(p,(0,Z.Z)({},e.props,{key:t,data:n,index:t,depth:o+($?0:1),path:l,isDragging:r.isDragging}))))}))}))):null,n.placeholder)}))}}]),p}(s.Component);(0,d.Z)(D,"SelectMode",T.Z),(0,d.Z)(D,"Theme",N.Z),D.propTypes={index:p().number,depth:p().number,path:p().array,theme:p().oneOf(x.ZP.enumerateValue(N.Z)),selectTheme:p().oneOf(x.ZP.enumerateValue(N.Z)),selectMode:p().oneOf(x.ZP.enumerateValue(T.Z)),data:p().object,value:p().any,idField:p().string,valueField:p().string,displayField:p().string,descriptionField:p().string,disabled:p().bool,isLoading:p().bool,readOnly:p().bool,allowCollapse:p().bool,collapsed:p().bool,isNodeToggling:p().bool,isSelectRecursive:p().bool,renderer:p().func,collapsedIconCls:p().string,expandedIconCls:p().string,radioUncheckedIconCls:p().string,radioCheckedIconCls:p().string,checkboxUncheckedIconCls:p().string,checkboxCheckedIconCls:p().string,checkboxIndeterminateIconCls:p().string,onClick:p().func,onSelect:p().func,onDeselect:p().func,onMouseEnter:p().func,onMouseLeave:p().func,onNodeToggleStart:p().func,onNodeToggleEnd:p().func,isDragging:p().bool},D.defaultProps={index:0,depth:0,theme:N.Z.DEFAULT,selectTheme:N.Z.DEFAULT,selectMode:T.Z.SINGLE_SELECT,idField:"id",valueField:"value",displayField:"text",descriptionField:"desc",disabled:!1,isLoading:!1,readOnly:!1,allowCollapse:!0,collapsed:!1,isNodeToggling:!1,isSelectRecursive:!1,tipPosition:E.Z.BOTTOM,collapsedIconCls:"fas fa-caret-right",expandedIconCls:"fas fa-caret-down",checkboxUncheckedIconCls:"far fa-square",checkboxCheckedIconCls:"fas fa-check-square",checkboxIndeterminateIconCls:"fas fa-minus-square",isDragging:!1};const L=D;var R=t(96509),M=t(13103),V=t(19605);function w(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return U(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?U(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var o=0,l=function(){};return{s:l,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return r=e.done,e},e:function(e){c=!0,a=e},f:function(){try{r||null==t.return||t.return()}finally{if(c)throw a}}}}function U(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}var j=function(e){(0,r.Z)(p,e);var n,t,u=(n=p,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,i.Z)(n);if(t){var l=(0,i.Z)(this).constructor;e=Reflect.construct(o,arguments,l)}else e=o.apply(this,arguments);return(0,c.Z)(this,e)});function p(e){var n;(0,o.Z)(this,p);for(var t=arguments.length,l=new Array(t>1?t-1:0),r=1;r<t;r++)l[r-1]=arguments[r];return n=u.call.apply(u,[this,e].concat(l)),(0,d.Z)((0,a.Z)(n),"addRecursiveValue",(function(e,t){if(e&&t&&(O.Z.isItemChecked(e,t,n.props)||t.push(e),e.children&&!(e.children.length<1))){var o,l=w(e.children);try{for(l.s();!(o=l.n()).done;){var a=o.value;n.addRecursiveValue(a,t)}}catch(e){l.e(e)}finally{l.f()}}})),(0,d.Z)((0,a.Z)(n),"removeRecursiveValue",(function(e,t){if(e&&t){var o=O.Z.getMultiSelectItemIndex(e,t,n.props);if(o>-1&&t.splice(o,1),e.children&&!(e.children.length<1)){var l,a=w(e.children);try{for(a.s();!(l=a.n()).done;){var r=l.value;n.removeRecursiveValue(r,t)}}catch(e){a.e(e)}finally{a.f()}}}})),(0,d.Z)((0,a.Z)(n),"updateValue",(function(e){var t,o=n.props,l=o.data,a=o.valueField,r=o.displayField,c=[];return x.ZP.postOrderTraverse(C()(l)?(t={},(0,d.Z)(t,S.Z,!0),(0,d.Z)(t,"children",l),t):l,(function(n){S.Z in n||(!n.children||n.children.length<1?e.findIndex((function(e){return x.ZP.getValueByValueField(e,a,r)===x.ZP.getValueByValueField(n,a,r)}))>-1&&c.push(n):n.children.every((function(e){return c.findIndex((function(n){return x.ZP.getValueByValueField(n,a,r)===x.ZP.getValueByValueField(e,a,r)}))>-1}))&&c.push(n))})),c})),(0,d.Z)((0,a.Z)(n),"handleTreeNodeSelect",(function(e,t,o){if(e){var l=n.props,a=l.selectMode,r=l.isSelectRecursive,c=n.state.value;a===T.Z.MULTI_SELECT?(c&&C()(c)||(c=[]),r?(n.addRecursiveValue(e,c),c=n.updateValue(c)):c.push(e)):a===T.Z.SINGLE_SELECT&&(c=e),n.setState({value:c},(function(){var l=n.props,a=l.onNodeSelect,r=l.onChange;a&&a(e,t,o),r&&r(c,o)}))}})),(0,d.Z)((0,a.Z)(n),"handleTreeNodeDeselect",(function(e,t,o){if(n.props.selectMode===T.Z.MULTI_SELECT){var l=n.props.isSelectRecursive,a=n.state.value;if(a&&C()(a))if(l)n.removeRecursiveValue(node,a),a=n.updateValue(a);else{var r=O.Z.getMultiSelectItemIndex(node,a,n.props);r>-1&&a.splice(r,1)}else a=[];n.setState({value:a},(function(){var e=n.props,l=e.onNodeDeselect,r=e.onChange;l&&l(node,t,o),r&&r(a,o)}))}})),(0,d.Z)((0,a.Z)(n),"handleNodeToggleStart",(function(){var e=n.props.beforeNodeToggle;e&&!1===e()||n.setState({isNodeToggling:!0})})),(0,d.Z)((0,a.Z)(n),"handleNodeToggleEnd",(function(){n.setState({isNodeToggling:!1})})),(0,d.Z)((0,a.Z)(n),"onNodeDragStart",(function(e){var t=n.props.onNodeDragStart;t&&t(e)})),(0,d.Z)((0,a.Z)(n),"onNodeDragEnd",(function(e){var t;if(e&&"draggableId"in e&&e.source&&"index"in e.source&&e.destination&&"index"in e.destination){var o=n.state.data,l=e.source.index,a=e.destination.index;M.ZP.findNodeById(C()(o)?(t={},(0,d.Z)(t,S.Z,!0),(0,d.Z)(t,"children",o),t):o,e.draggableId,(function(t,r,c){c.children&&l in c.children&&a in c.children&&(x.ZP.reorder(c.children,l,a),n.setState({data:o},(function(){var t=n.props,l=t.onNodeDragEnd,a=t.onSequenceChange;l&&l(e),a&&a(o)})))}))}})),n.state={data:e.data,value:O.Z.getInitValue(e),isNodeToggling:!1},n}return(0,l.Z)(p,[{key:"render",value:function(){var e,n=this.props,t=n.children,o=n.className,l=n.style,a=n.theme,r=n.allowCollapse,c=n.collapsed,i=n.collapsedIconCls,u=n.expandedIconCls,p=n.radioUncheckedIconCls,h=n.radioCheckedIconCls,v=n.checkboxUncheckedIconCls,Z=n.checkboxCheckedIconCls,b=n.checkboxIndeterminateIconCls,m=n.idField,y=n.valueField,I=n.displayField,k=n.descriptionField,N=n.disabled,E=n.isLoading,T=n.readOnly,x=n.selectMode,O=n.renderer,F=n.onNodeClick,P=n.isNodeCollapsed,D=this.state,R=D.data,M=D.value,V=D.isNodeToggling;return s.createElement(g.Z5,{onDragStart:this.onNodeDragStart,onDragEnd:this.onNodeDragEnd},s.createElement("div",{className:f()("draggable-tree",(0,d.Z)({},o,o)),disabled:N,style:l},s.createElement(L,{data:C()(R)?(e={},(0,d.Z)(e,S.Z,!0),(0,d.Z)(e,"children",R),e):R,value:M,theme:a,idField:m,valueField:y,displayField:I,descriptionField:k,disabled:N,isLoading:E,readOnly:T,selectMode:x,renderer:O,allowCollapse:r,collapsed:c,collapsedIconCls:i,expandedIconCls:u,radioUncheckedIconCls:p,radioCheckedIconCls:h,checkboxUncheckedIconCls:v,checkboxCheckedIconCls:Z,checkboxIndeterminateIconCls:b,isNodeToggling:V,isNodeCollapsed:P,onClick:function(){return F&&F.apply(void 0,arguments)},onNodeToggleStart:this.handleNodeToggleStart,onNodeToggleEnd:this.handleNodeToggleEnd,onSelect:this.handleTreeNodeSelect,onDeselect:this.handleTreeNodeDeselect}),t))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return{prevProps:e,data:V.Z.getDerivedState(e,n,"data"),value:O.Z.getInitValue({value:V.Z.getDerivedState(e,n,"value"),selectMode:e.selectMode})}}}]),p}(s.Component);(0,d.Z)(j,"SelectMode",T.Z),(0,d.Z)(j,"Theme",N.Z),j.propTypes={children:p().any,className:p().string,style:p().object,theme:p().oneOf(x.ZP.enumerateValue(N.Z)),selectTheme:p().oneOf(x.ZP.enumerateValue(N.Z)),selectMode:p().oneOf(x.ZP.enumerateValue(T.Z)),data:p().oneOfType([p().shape({className:p().string,style:p().object,theme:p().oneOf(x.ZP.enumerateValue(N.Z)),value:p().oneOfType([p().string,p().number]),text:p().oneOfType([p().string,p().number]),desc:p().oneOfType([p().string,p().number]),disabled:p().bool,isLoading:p().bool,iconCls:p().string,rightIconCls:p().string,tip:p().string,tipPosition:p().oneOf(x.ZP.enumerateValue(R.Z.Position)),children:p().array,itemRenderer:p().func,onClick:p().func}),p().array]),idField:p().string,valueField:p().string,displayField:p().string,descriptionField:p().string,disabled:p().bool,isLoading:p().bool,readOnly:p().bool,isSelectRecursive:p().bool,allowCollapse:p().bool,collapsed:p().bool,collapsedIconCls:p().string,expandedIconCls:p().string,radioUncheckedIconCls:p().string,radioCheckedIconCls:p().string,checkboxUncheckedIconCls:p().string,checkboxCheckedIconCls:p().string,checkboxIndeterminateIconCls:p().string,renderer:p().func,onNodeClick:p().func,onNodeSelect:p().func,onNodeDeselect:p().func,onChange:p().func,onWheel:p().func,isNodeCollapsed:p().func,beforeNodeToggle:p().func,onNodeDragStart:p().func,onNodeDragEnd:p().func,onSequenceChange:p().func},j.defaultProps={theme:N.Z.DEFAULT,selectTheme:N.Z.DEFAULT,selectMode:T.Z.SINGLE_SELECT,idField:"id",valueField:"value",displayField:"text",descriptionField:"desc",disabled:!1,isLoading:!1,readOnly:!1,isSelectRecursive:!1,allowCollapse:!0,collapsed:!1};const B=j}}]);