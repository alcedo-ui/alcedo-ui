"use strict";(self.webpackChunkalcedo_ui=self.webpackChunkalcedo_ui||[]).push([[9080],{39080:(e,t,i)=>{i.d(t,{Z:()=>I});var l=i(71002),n=i(15671),r=i(43144),a=i(97326),o=i(60136),s=i(82963),p=i(61120),u=i(4942),c=i(37699),d=i(45697),f=i.n(d),h=i(11669),m=i(23046),g=i(35720),v=i(62457),y=i(87712),F=i(65248),Z=i(79958),C=i(41844),b=i.n(C),P=i(81540),E=i(67243),D=i(25681),R=i(19605);var T=function(e){(0,o.Z)(f,e);var t,i,d=(t=f,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,l=(0,p.Z)(t);if(i){var n=(0,p.Z)(this).constructor;e=Reflect.construct(l,arguments,n)}else e=l.apply(this,arguments);return(0,s.Z)(this,e)});function f(e){var t;(0,n.Z)(this,f);for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return t=d.call.apply(d,[this,e].concat(r)),(0,u.Z)((0,a.Z)(t),"filterData",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.state.filter,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.props.data,n=t.props.minFilterLength;if(!e||e.length<n)return i;var r=t.props,a=r.valueField,o=r.displayField,s=r.renderer,p=r.filterCallback;return p?p(e,i):i.filter((function(t){if(!t)return!1;if(s)return s(t).toString().toUpperCase().includes(e.toUpperCase());if("object"===(0,l.Z)(t)){var i=P.ZP.getTextByDisplayField(t,o,a);if(i)return i.toString().toUpperCase().includes(e.toUpperCase())}return t.toString().toUpperCase().includes(e.toUpperCase())}))})),(0,u.Z)((0,a.Z)(t),"handleFilterFocus",(function(){if(!t.props.disabled){var e=t.props.onFocus,i=t.state.filter,l={filterFocused:!0,tempSelectIndex:null};e&&e.apply(void 0,arguments),i&&(l.popupVisible=!0),t.setState(l)}})),(0,u.Z)((0,a.Z)(t),"handleFilterBlur",(function(){var e=t.props,i=e.disabled,l=e.onBlur;!i&&l&&l.apply(void 0,arguments)})),(0,u.Z)((0,a.Z)(t),"handleFilterKeyDown",(function(e){var i=t.props.useDynamicRenderList,l=t.state,n=l.tempSelectIndex,r=l.listData,a=i?t.dynamicRenderList&&t.dynamicRenderList.current:t.list&&t.list.current,o=null;if(38===e.keyCode||40===e.keyCode){o={};var s=!isNaN(n)&&n>-1?n:-1;38===e.keyCode?s--:40===e.keyCode&&s++,o.tempSelectIndex=D.ZP.range(s,0,r.length-1)}t.setState(o,(function(){var i=t.props.onFilterKeyDown;i&&i(e),a&&a.adjustScroll()}))})),(0,u.Z)((0,a.Z)(t),"handleFilterPressEnter",(function(e,i){var l={};t.props.autoClose&&(l.popupVisible=!1),t.setState(l,(function(){var e=t.props.onFilterPressEnter;e&&e(i),t.update()}))})),(0,u.Z)((0,a.Z)(t),"handleFilterChange",(function(e){var i=t.props,l=i.data,n=i.minFilterLength,r={filter:e,popupVisible:!!e&&e.length>=n,tempSelectIndex:null};e?r.listData=t.filterData(e):(r.listData=l,r.value=null),t.setState(r,(function(){var i=t.props.onFilterChange;i&&i(e),t.pop&&t.pop.current&&t.pop.current.resetPosition()}))})),(0,u.Z)((0,a.Z)(t),"closePop",(function(){t.setState({popupVisible:!1},(function(){var e=t.props.onPopupClosed;e&&e()}))})),(0,u.Z)((0,a.Z)(t),"handlePopupRender",(function(e){var i=E.Z.isAbove(t.wrapperEl,t.triggerEl,(0,Z.findDOMNode)(e));i!==t.state.isAbove&&t.setState({isAbove:i})})),(0,u.Z)((0,a.Z)(t),"handleItemClick",(function(e){var i=t.props,l=i.autoClose,n=i.valueField,r=i.displayField,a=i.renderer,o=a?a(e):P.ZP.getTextByDisplayField(e,r,n),s={tempSelectIndex:null,value:e,filter:o,listData:t.filterData(o)},p=t.state.value!=e;l&&(s.popupVisible=!1),t.setState(s,(function(){var i=t.props,l=i.onItemClick,n=i.onChange;l&&l(e),p&&n&&n(e)}))})),(0,u.Z)((0,a.Z)(t),"update",(function(){var e=t.props,i=e.displayField,l=e.valueField,n=e.renderer,r=t.state,a=r.filter,o=r.tempSelectIndex,s=r.listData,p=null;if(a&&s&&s.length>0){p={};var u=!isNaN(o)&&o>-1?o:-1;p.value=u>-1?s[u]:null,u>-1&&(p.filter=n?n(p.value):P.ZP.getTextByDisplayField(p.value,i,l)),p.listData=t.filterData(p.filter)}p&&t.setState(p,(function(){var e=t.props,i=e.onFilterChange,l=e.onChange;i&&i(p.filter),l&&l(p.value)}))})),t.wrapper=(0,c.createRef)(),t.wrapperEl=null,t.trigger=(0,c.createRef)(),t.triggerEl=null,t.pop=(0,c.createRef)(),t.dynamicRenderList=(0,c.createRef)(),t.list=(0,c.createRef)(),t.state={tempSelectIndex:null,value:e.value,filter:e.filterInitValue,popupVisible:!1,isAbove:!1,listData:e.data},t}return(0,r.Z)(f,[{key:"componentDidMount",value:function(){this.wrapperEl=this.wrapper&&this.wrapper.current,this.triggerEl=this.trigger&&this.trigger.current&&(0,Z.findDOMNode)(this.trigger.current)}},{key:"render",value:function(){var e=this.props,t=e.className,i=e.popupClassName,l=e.style,n=e.popupStyle,r=e.theme,a=e.popupTheme,o=e.name,s=e.placeholder,p=e.disabled,d=e.iconCls,f=e.rightIconCls,y=e.valueField,Z=e.displayField,C=e.descriptionField,E=e.position,D=e.noMatchedPopupVisible,R=e.noMatchedMsg,T=e.popupChildren,I=e.renderer,O=e.resetPopPositionWait,S=e.useDynamicRenderList,k=e.listHeight,N=e.itemHeight,w=e.scrollBuffer,V=e.onFilterClear,L=e.onMouseOver,M=e.onMouseOut,B=e.parentEl,x=this.state,A=x.isAbove,U=x.tempSelectIndex,j=x.value,H=x.filter,_=x.popupVisible,K=x.listData,W=E===F.Z.TOP||E===F.Z.TOP_LEFT||E===F.Z.TOP_RIGHT||!E&&A,q=!K||K.length<1;return c.createElement("div",{ref:this.wrapper,className:b()("auto-complete-filter",(0,u.Z)({},t,t)),style:l},o?c.createElement("input",{type:"hidden",name:o,value:P.ZP.getValueByValueField(j,y,Z)}):null,c.createElement(h.Z,{ref:this.trigger,className:b()("auto-complete-filter-trigger",q&&!D?"":_?" activated":"",W?" above":" blow"),theme:r,value:H,placeholder:s,disabled:p,iconCls:d,rightIconCls:f,onFocus:this.handleFilterFocus,onBlur:this.handleFilterBlur,onMouseOver:L,onMouseOut:M,onChange:this.handleFilterChange,onKeyDown:this.handleFilterKeyDown,onPressEnter:this.handleFilterPressEnter,onClear:V,onRightIconClick:this.handleFilterPressEnter}),q&&!D?null:c.createElement(m.Z,{ref:this.pop,className:b()("auto-complete-filter-popup",W?" above":" blow",(0,u.Z)({},i,i)),style:Object.assign({width:this.triggerEl&&getComputedStyle(this.triggerEl).width},n),theme:a,visible:_,triggerEl:this.triggerEl,parentEl:B,hasTriangle:!1,position:E||(A?F.Z.TOP_LEFT:F.Z.BOTTOM_LEFT),resetPositionWait:O,onRender:this.handlePopupRender,onRequestClose:this.closePop},q?c.createElement(g.Z,{className:"auto-complete-filter-list",theme:a,data:[{itemRenderer:function(){return c.createElement("div",{className:"no-matched-list-item"},R||c.createElement("span",null,c.createElement("i",{className:"fas fa-exclamation-triangle no-matched-list-item-icon"}),"No matched value."))},disableTouchRipple:!0}]}):S?c.createElement(v.Z,{ref:this.dynamicRenderList,className:"auto-complete-filter-list",theme:a,data:K,value:K[U],valueField:y,displayField:Z,descriptionField:C,renderer:I,listHeight:k,itemHeight:N,scrollBuffer:w,onItemClick:this.handleItemClick}):c.createElement(g.Z,{ref:this.list,className:"auto-complete-filter-list",theme:a,data:K,value:K[U],valueField:y,displayField:Z,descriptionField:C,renderer:I,onItemClick:this.handleItemClick}),T))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{prevProps:e,value:R.Z.getDerivedState(e,t,"value")}}}]),f}(c.Component);(0,u.Z)(T,"Theme",y.Z),(0,u.Z)(T,"Position",F.Z),T.propTypes={className:f().string,popupClassName:f().string,style:f().object,popupStyle:f().object,theme:f().oneOf(P.ZP.enumerateValue(y.Z)),popupTheme:f().oneOf(P.ZP.enumerateValue(y.Z)),position:f().oneOf(P.ZP.enumerateValue(F.Z)),name:f().string,placeholder:f().string,data:f().oneOfType([f().arrayOf(f().oneOfType([f().shape({className:f().string,style:f().object,theme:f().oneOf(P.ZP.enumerateValue(y.Z)),value:f().oneOfType([f().string,f().number]),desc:f().oneOfType([f().string,f().number]),disabled:f().bool,isLoading:f().bool,disableTouchRipple:f().bool,iconCls:f().string,rightIconCls:f().string,itemRenderer:f().func,onClick:f().func}),f().string,f().number])),f().array]).isRequired,value:f().any,disabled:f().bool,valueField:f().string,displayField:f().string,descriptionField:f().string,autoClose:f().bool,minFilterLength:f().number,filterCallback:f().func,iconCls:f().string,rightIconCls:f().string,noMatchedPopupVisible:f().bool,noMatchedMsg:f().string,parentEl:f().object,popupChildren:f().any,filterInitValue:f().string,useDynamicRenderList:f().bool,resetPopPositionWait:f().number,listHeight:f().number,itemHeight:f().number,scrollBuffer:f().number,renderer:f().func,onFilterChange:f().func,onFilterPressEnter:f().func,onFilterClear:f().func,onChange:f().func,onItemClick:f().func,onFocus:f().func,onBlur:f().func,onMouseOver:f().func,onMouseOut:f().func,onPopupClosed:f().func,onFilterKeyDown:f().func},T.defaultProps={theme:y.Z.DEFAULT,popupTheme:y.Z.DEFAULT,data:[],disabled:!1,valueField:"value",displayField:"text",descriptionField:"desc",autoClose:!1,minFilterLength:1,iconCls:null,rightIconCls:"fas fa-search",noMatchedPopupVisible:!0,filterInitValue:"",useDynamicRenderList:!1,resetPopPositionWait:250};const I=T}}]);