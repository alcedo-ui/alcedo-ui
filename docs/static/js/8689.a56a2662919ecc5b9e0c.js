"use strict";(self.webpackChunkalcedo_ui=self.webpackChunkalcedo_ui||[]).push([[8689],{98689:(e,t,a)=>{a.d(t,{Z:()=>R});var r=a(87462),n=a(45987),i=a(15671),o=a(43144),s=a(97326),l=a(60136),m=a(82963),h=a(61120),f=a(4942),c=a(37699),d=a(45697),u=a.n(d),p=a(79958),g=a(44395),y=a.n(g),Y=a(41844),v=a.n(Y),Z=a(11669),T=a(37470),M=a(97303),D=a(4090),x=a(23046),C=a(87712),b=a(65248),P=a(81540),k=a(34265),E=a(67243),O=a(19605),V=["className","style","name","placeholder","dateFormat","maxValue","minValue","position","popupClassName","rightIconCls","readOnly","disabled","parentEl"];function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,f.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B=function(e){(0,l.Z)(u,e);var t,a,d=(t=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,h.Z)(t);if(a){var n=(0,h.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,m.Z)(this,e)});function u(e){var t;(0,i.Z)(this,u);for(var a=arguments.length,r=new Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=arguments[n];t=d.call.apply(d,[this,e].concat(r)),(0,f.Z)((0,s.Z)(t),"handleDatePickerChange",(function(e,a){t.setState((0,f.Z)({},e,F(F({},t.state[e]),{},{datePickerLevel:a})))})),(0,f.Z)((0,s.Z)(t),"handleTextFieldChange",(function(e,a){if(a&&a.length&&y()(a,t.props.dateFormat,!0).isValid()){var r=y()(a).format("YYYY-MM-DD"),n=r.split("-")[0],i=r.split("-")[1],o=r.split("-")[2];"left"==e?y()(a).isBefore(t.state.right.text)&&t.setState({startTime:y()(a).isBefore(t.state.right.text)?a:t.state.startTime,left:F(F({},t.state.left),{},{text:y()(a).isBefore(t.state.right.text)?a:t.state.left.text,year:y()(a).isBefore(t.state.right.text)?n:t.state.left.selectYear,month:y()(a).isBefore(t.state.right.text)?i:t.state.left.selectMonth,day:y()(a).isBefore(t.state.right.text)?o:t.state.left.selectDay}),right:F(F({},t.state.right),{},{month:n==t.state.right.year&&i==t.state.right.month?12==i?1:+i+1:t.state.right.month,year:n==t.state.right.year&&i==t.state.right.month?+n+1:t.state.right.year})}):t.setState({endTime:y()(t.state.startTime).isBefore(a)?a:t.state.endTime,right:F(F({},t.state.right),{},{text:y()(t.state.startTime).isBefore(a)?a:t.state.right.text,year:y()(t.state.startTime).isBefore(a)?n==t.state.left.year&&i==t.state.left.month?t.state.right.year:n:t.state.right.year,month:y()(t.state.startTime).isBefore(a)?n==t.state.left.year&&i==t.state.left.month?+i+1:i:t.state.right.month,day:y()(t.state.startTime).isBefore(a)?n==t.state.left.year&&i==t.state.left.month?t.state.right.day:o:t.state.right.day})})}})),(0,f.Z)((0,s.Z)(t),"handleDayPickerChange",(function(e,a){if(t.state.endTime)t.setState((0,f.Z)({startTime:a.time,endTime:"",hoverTime:""},e,F(F({},t.state[e]),{},{text:a.time,year:a.year,month:a.month,day:a.day})));else if(t.state.startTime){var r,n=t.state.startTime;y()(n).isBefore(a.time)?r=a.time:(r=n,n=a.time),t.setState({startTime:n,endTime:r,historyStartTime:n,historyEndTime:r,hoverTime:"",value:[y()(n).format(t.props.dateFormat),y()(r).format(t.props.dateFormat)],left:F(F({},t.state.left),{},{text:n}),right:F(F({},t.state.right),{},{text:r})},(function(){t.props.onChange&&t.props.onChange([y()(n).format(t.props.dateFormat),y()(r).format(t.props.dateFormat)])}))}else t.setState((0,f.Z)({startTime:a.time,endTime:"",hoverTime:""},e,F(F({},t.state[e]),{},{text:a.time,year:a.year,month:a.month,day:a.day})))})),(0,f.Z)((0,s.Z)(t),"handleDayPickerHover",(function(e,a){var r=t.state.startTime,n=t.state.endTime;r&&""==n&&t.setState({hoverTime:a.time,left:F(F({},t.state.left),{},{text:y()(r).isBefore(a.time)?r:a.time}),right:F(F({},t.state.right),{},{text:y()(r).isBefore(a.time)?a.time:r})})})),(0,f.Z)((0,s.Z)(t),"handleMonthAndYearChange",(function(e,a){t.setState((0,f.Z)({},e,F(F({},t.state[e]),{},{year:a.year,month:a.month})))})),(0,f.Z)((0,s.Z)(t),"handleMonthPickerChange",(function(e,a){t.setState((0,f.Z)({},e,F(F({},t.state[e]),{},{datePickerLevel:"day",year:a.year,month:a.month})))})),(0,f.Z)((0,s.Z)(t),"handleYearPickerChange",(function(e,a){t.setState((0,f.Z)({},e,F(F({},t.state[e]),{},{datePickerLevel:"month",year:a})))})),(0,f.Z)((0,s.Z)(t),"togglePopup",(function(e){t.validValue&&t.setState({popupVisible:!t.state.popupVisible})})),(0,f.Z)((0,s.Z)(t),"closePopup",(function(){var e=t.props.dateFormat,a=t.state,r=a.left,n=a.right,i=a.startTime,o=a.endTime,s=a.historyStartTime,l=a.historyEndTime,m=a.hoverTime,h=F(F({},r),{},{datePickerLevel:"day",text:o?r.text:s,year:o?r.year:s&&l?y()(s).format("YYYY"):r.year,month:o?r.month:s&&l?y()(s).format("MM"):r.month,day:o?r.day:s&&l?y()(s).format("DD"):r.day}),f=F(F({},n),{},{datePickerLevel:"day",text:o?n.text:l,year:o?n.year:s&&l?y()(s).format("YYYY")==y()(l).format("YYYY")&&y()(s).format("MM")==y()(l).format("MM")&&12==y()(l).format("MM")?+y()(l).format("YYYY")+1:y()(l).format("YYYY"):n.year,month:o?n.month:s&&l?y()(s).format("YYYY")==y()(l).format("YYYY")&&y()(s).format("MM")==y()(l).format("MM")?12==y()(l).format("MM")?1:+y()(l).format("MM")+1:y()(l).format("MM"):n.month,day:o?n.day:s&&l?y()(l).format("DD"):n.day});!t.props.disabled&&t.setState({popupVisible:!1,startTime:o?i:s,endTime:o||l,hoverTime:o?m:"",value:[y()(h.text,e),y()(f.text,e)],left:h,right:f},(function(){t.props.onChange&&t.props.onChange([y()(h.text,e),y()(f.text,e)])}))})),(0,f.Z)((0,s.Z)(t),"handlePopupRender",(function(e){if(!t.props.position){var a=E.Z.isAbove(t.dropdownEl,t.triggerEl,(0,p.findDOMNode)(e));a!==t.state.isAbove&&t.setState({isAbove:a})}})),(0,f.Z)((0,s.Z)(t),"setValue",(function(e,a){if(e&&e.length>1){var r=e[0],n=e[1];if(r)if(y()(r,a).isValid()||n&&y()(r,a).isValid()){var i=F(F({},t.state.left),{},{text:r,year:y()(e[0]).format("YYYY"),month:y()(e[0]).format("MM"),day:y()(e[0]).format("DD")}),o=F(F({},t.state.right),{},{text:n,year:n?y()(e[1]).format("YYYY"):y()(e[0]).format("YYYY"),month:n?y()(e[1]).format("MM"):y()(e[0]).format("MM"),day:n?y()(e[1]).format("DD"):y()(e[0]).format("DD")});t.setState({left:k.Z.setDateRange(i,o).start,right:k.Z.setDateRange(i,o).end,startTime:r,endTime:n,historyStartTime:r,historyEndTime:n})}else t.validValue=!1,console.error("Invalid date");else{var s=F(F({},t.state.left),{},{text:"",year:y()().format("YYYY"),month:y()().format("MM"),day:y()().format("DD")}),l=F(F({},t.state.right),{},{text:"",year:y()().format("YYYY"),month:y()().format("MM"),day:y()().format("DD")});t.setState({left:k.Z.setDateRange(s,l).start,right:k.Z.setDateRange(s,l).end,startTime:"",endTime:"",historyStartTime:"",historyEndTime:""})}}}));var o=y()();t.validValue=!0,t.trigger=(0,c.createRef)(),t.triggerEl=null;var l="",m="";return t.state={value:e.value,popupVisible:!1,isAbove:!1,left:{text:l,datePickerLevel:"day",year:o.format("YYYY"),month:o.format("MM"),day:o.format("DD")},right:{text:m,datePickerLevel:"day",year:12==o.format("MM")?+o.format("YYYY")+1:o.format("YYYY"),month:12==o.format("MM")?1:+o.format("MM")+1,day:o.format("DD")},startTime:"",endTime:"",historyStartTime:"",historyEndTime:"",hoverTime:""},t}return(0,o.Z)(u,[{key:"componentDidMount",value:function(){var e=this.props,t=e.value,a=e.dateFormat;this.setValue(t,a),this.triggerEl=this.trigger&&this.trigger.current&&(0,p.findDOMNode)(this.trigger.current)}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,i=t.style,o=t.name,s=t.placeholder,l=t.dateFormat,m=t.maxValue,h=t.minValue,d=t.position,u=t.popupClassName,p=t.rightIconCls,g=t.readOnly,Y=t.disabled,C=t.parentEl,P=(0,n.Z)(t,V),E=this.state,O=E.popupVisible,S=E.left,B=E.right,R=E.startTime,N=E.endTime,A=E.hoverTime,I=E.isAbove,L=this.handleMonthAndYearChange,j=this.handleDayPickerChange,w=this.handleDatePickerChange,H=this.handleDayPickerHover,_=this.handleMonthPickerChange,q=this.handleYearPickerChange,z=S.text&&B.text?S.text+"~ "+B.text:"",G=B.year,J=B.month;G=1==J?+G-1:G,J=1==J?11:+J-2;var K=k.Z.MonthDays(G)[J],Q=m&&y()([G,J,K]).isAfter(m)?m:y()([G,J,K]).format("YYYY-MM-DD"),U=S.year,W=S.month;U=12==W?+U+1:U,W=12==W?1:+W+1;var X=h&&y()([U,W-1,1]).isBefore(h)?h:y()([U,W-1,1]).format("YYYY-MM-DD"),$=F(F({},S),{},{value:S.text,maxValue:m&&h?y()(Q).isAfter(y()(m))?m:Q:!m&&h?y().max(y()(Q),y()(h)).format("YYYY-MM-DD"):m&&!h&&y()(Q).isAfter(y()(m))?m:Q,minValue:h,startTime:R,endTime:N,hoverTime:A,dateFormat:l}),ee=F(F({},B),{},{value:B.text,minValue:m&&h||!m&&h?y()(X).isAfter(y()(h))?X:h:m&&!h?y().max(y()(X),y()(m)).format("YYYY-MM-DD"):X,maxValue:m,startTime:R,endTime:N,hoverTime:A,dateFormat:l});return c.createElement("div",{className:v()("date-range-picker",(0,f.Z)({},a,a)),style:i},c.createElement(Z.Z,{ref:this.trigger,className:"date-range-picker-field",name:o,placeholder:s,value:z,readOnly:!0,disabled:Y,rightIconCls:p,clearButtonVisible:!1,isFocusedSelectAll:!1,onClick:function(t){e.togglePopup(t)}}),c.createElement(x.Z,{className:"date-range-picker-popup ".concat(u),visible:O,parentEl:C,triggerEl:this.triggerEl,position:d||(I?b.Z.TOP_LEFT:b.Z.BOTTOM_LEFT),hasTriangle:!1,onRender:this.handlePopupRender,onRequestClose:this.closePopup},c.createElement("div",{className:"calendar-date-input-wrap"},c.createElement("div",{className:"DateRangePickerHeaderInput"},c.createElement(Z.Z,{className:"fl calendar-input",placeholder:s,value:S.text,clearButtonVisible:!1,readOnly:g,onChange:function(t){e.handleTextFieldChange("left",t)}}),c.createElement(Z.Z,{className:"fl calendar-input",placeholder:s,value:B.text,clearButtonVisible:!1,readOnly:g,onChange:function(t){e.handleTextFieldChange("right",t)}}))),"day"==S.datePickerLevel?c.createElement(T.Z,(0,r.Z)({},P,$,{isFooter:!1,isRange:!0,monthAndYearChange:function(e){return L("left",e)},onChange:function(e){return j("left",e)},previousClick:function(e){return w("left",e)},hoverHandle:function(e){return H("left",e)}})):"month"==S.datePickerLevel?c.createElement(M.Z,(0,r.Z)({},P,$,{onChange:function(e){return _("left",e)},previousClick:function(e){return w("left",e)}})):c.createElement(D.Z,(0,r.Z)({},P,$,{onChange:function(e){return q("left",e)}})),"day"==B.datePickerLevel?c.createElement(T.Z,(0,r.Z)({},P,ee,{isFooter:!1,isRange:!0,monthAndYearChange:function(e){return L("right",e)},onChange:function(e){return j("right",e)},previousClick:function(e){return w("right",e)},hoverHandle:function(e){return H("left",e)}})):"month"==B.datePickerLevel?c.createElement(M.Z,(0,r.Z)({},P,ee,{onChange:function(e){return _("right",e)},previousClick:function(e){return w("right",e)}})):c.createElement(D.Z,(0,r.Z)({},P,ee,{onChange:function(e){return q("right",e)}}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=O.Z.getDerivedState(e,t,"value");return{prevProps:e,dateFormat:O.Z.getDerivedState(e,t,"dateFormat"),value:a}}}]),u}(c.Component);(0,f.Z)(B,"Theme",C.Z),(0,f.Z)(B,"Position",b.Z),B.propTypes={className:u().string,popupClassName:u().string,style:u().object,name:u().string,value:u().array,maxValue:u().string,minValue:u().string,placeholder:u().string,dateFormat:u().string,readOnly:u().bool,disabled:u().bool,popupVisible:u().bool,position:u().oneOf(P.ZP.enumerateValue(b.Z)),rightIconCls:u().string,previousYearIconCls:u().string,previousMonthIconCls:u().string,nextYearIconCls:u().string,nextMonthIconCls:u().string,parentEl:u().object,onChange:u().func},B.defaultProps={name:"",placeholder:"Date",popupClassName:"",dateFormat:"YYYY-MM-DD",previousYearIconCls:"fas fa-angle-double-left",previousMonthIconCls:"fas fa-angle-left",nextYearIconCls:"fas fa-angle-double-right",nextMonthIconCls:"fas fa-angle-right",position:b.Z.BOTTOM_LEFT,readOnly:!1,disabled:!1};const R=B}}]);