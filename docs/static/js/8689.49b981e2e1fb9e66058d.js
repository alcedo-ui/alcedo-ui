(self.webpackChunkalcedo_ui=self.webpackChunkalcedo_ui||[]).push([[8689],{98689:(e,t,r)=>{"use strict";r.d(t,{Z:()=>z});var a=r(67154),n=r.n(a),i=r(6479),o=r.n(i),l=r(34575),s=r.n(l),h=r(93913),m=r.n(h),f=r(81506),c=r.n(f),d=r(2205),u=r.n(d),g=r(78585),p=r.n(g),y=r(29754),v=r.n(y),Y=r(59713),T=r.n(Y),M=r(37699),C=r(45697),D=r.n(C),b=r(79958),E=r(44395),x=r.n(E),P=r(50361),k=r.n(P),S=r(41844),O=r.n(S),V=r(11669),Z=r(37470),F=r(97303),R=r(4090),N=r(23046),I=r(87712),L=r(65248),j=r(81540),A=r(34265),w=r(67243),B=r(19605);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){T()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=function(e){u()(i,e);var t,r,a=(t=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=v()(t);if(r){var n=v()(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return p()(this,e)});function i(e){var t;s()(this,i);for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];t=a.call.apply(a,[this,e].concat(n)),T()(c()(t),"handleDatePickerChange",(function(e,r){var a=k()(t.state);a[e].datePickerLevel=r,t.setState(a)})),T()(c()(t),"handleTextFieldChange",(function(e,r){if(r&&r.length&&x()(r,t.props.dateFormat,!0).isValid()){var a=x()(r).format("YYYY-MM-DD"),n=a.split("-")[0],i=a.split("-")[1],o=a.split("-")[2],l=k()(t.state);"left"==e?(x()(r).isBefore(l.right.text)&&(l.startTime=r,l.left.text=r,l.left.year=n,l.left.month=i,l.left.day=o,n==l.right.year&&i==l.right.month&&(12==i?(l.right.month=1,l.right.year=+n+1):l.right.month=+i+1)),t.setState(l)):(x()(l.startTime).isBefore(r)&&(l.endTime=r,l.right.text=r,n==l.left.year&&i==l.left.month?l.right.month=+i+1:(l.right.year=n,l.right.month=i,l.right.day=o)),t.setState(l))}})),T()(c()(t),"handleDayPickerChange",(function(e,r){var a=k()(t.state);if(a.endTime)a[e].text=r.time,a[e].year=r.year,a[e].month=r.month,a[e].day=r.day,a.startTime=r.time,a.endTime="",a.hoverTime="",t.setState(a);else if(a.startTime){var n,i=a.startTime;x()(i).isBefore(r.time)?n=r.time:(n=i,i=r.time),a.right.text=n,a.left.text=i,a.endTime=n,a.startTime=i,a.historyStartTime=i,a.historyEndTime=n,a.hoverTime="",t.setState(a)}else a[e].text=r.time,a[e].year=r.year,a[e].month=r.month,a[e].day=r.day,a.startTime=r.time,a.endTime="",a.hoverTime="",t.setState(a)})),T()(c()(t),"handleDayPickerHover",(function(e,r){var a=k()(t.state),n=a.startTime,i=a.endTime;n&&""==i&&(a.hoverTime=r.time,x()(n).isBefore(r.time)?(a.left.text=n,a.right.text=r.time):(a.right.text=n,a.left.text=r.time),t.setState(a))})),T()(c()(t),"handleMonthAndYearChange",(function(e,r){var a=k()(t.state);a[e].year=r.year,a[e].month=r.month,t.setState(a)})),T()(c()(t),"handleMonthPickerChange",(function(e,r){var a=k()(t.state);a[e].datePickerLevel="day",a[e].year=r.year,a[e].month=r.month,t.setState(a)})),T()(c()(t),"handleYearPickerChange",(function(e,r){var a=k()(t.state);a[e].datePickerLevel="month",a[e].year=r,t.setState(a)})),T()(c()(t),"togglePopup",(function(e){t.validValue&&t.setState({popupVisible:!t.state.popupVisible})})),T()(c()(t),"closePopup",(function(){var e=t.props.dateFormat,r=k()(t.state);r.popupVisible=!1,r.left.datePickerLevel="day",r.right.datePickerLevel="day",r.endTime||(r.startTime=r.historyStartTime,r.endTime=r.historyEndTime,r.left.text=r.historyStartTime,r.right.text=r.historyEndTime,r.hoverTime="",r.historyStartTime&&r.historyEndTime&&(r.left.year=x()(r.historyStartTime).format("YYYY"),r.left.month=x()(r.historyStartTime).format("MM"),r.left.day=x()(r.historyStartTime).format("DD"),x()(r.historyStartTime).format("YYYY")==x()(r.historyEndTime).format("YYYY")&&x()(r.historyStartTime).format("MM")==x()(r.historyEndTime).format("MM")?12==x()(r.historyEndTime).format("MM")?(r.right.year=+x()(r.historyEndTime).format("YYYY")+1,r.right.month=1):(r.right.year=x()(r.historyEndTime).format("YYYY"),r.right.month=+x()(r.historyEndTime).format("MM")+1):(r.right.year=x()(r.historyEndTime).format("YYYY"),r.right.month=x()(r.historyEndTime).format("MM")),r.right.day=x()(r.historyEndTime).format("DD"))),r.value=[x()(r.left.text,e),x()(r.right.text,e)],!t.props.disabled&&t.setState(r,(function(){t.props.onChange&&t.props.onChange([x()(r.value[0]).format(t.props.dateFormat),x()(r.value[1]).format(t.props.dateFormat)])}))})),T()(c()(t),"handlePopupRender",(function(e){if(!t.props.position){var r=w.Z.isAbove(t.dropdownEl,t.triggerEl,(0,b.findDOMNode)(e));r!==t.state.isAbove&&t.setState({isAbove:r})}})),T()(c()(t),"setValue",(function(e,r){var a=k()(t.state);if(e&&e.length>1){var n=e[0],i=e[1];n?x()(n,r).isValid()||i&&x()(n,r).isValid()?(a.left.text=n,a.left.year=x()(e[0]).format("YYYY"),a.left.month=x()(e[0]).format("MM"),a.left.day=x()(e[0]).format("DD"),a.right.text=i,a.right.year=i?x()(e[1]).format("YYYY"):x()(e[0]).format("YYYY"),a.right.month=i?x()(e[1]).format("MM"):x()(e[0]).format("MM"),a.right.day=i?x()(e[1]).format("DD"):x()(e[0]).format("DD"),a.left=A.Z.setDateRange(a.left,a.right).start,a.right=A.Z.setDateRange(a.left,a.right).end,a.startTime=n,a.endTime=i,a.historyStartTime=n,a.historyEndTime=i,t.setState(a)):(t.validValue=!1,console.error("Invalid date")):(a.left.text="",a.right.text="",a.left.year=x()().format("YYYY"),a.left.month=x()().format("MM"),a.left.day=x()().format("DD"),a.right.year=x()().format("YYYY"),a.right.month=x()().format("MM"),a.right.day=x()().format("DD"),a.startTime="",a.endTime="",a.historyStartTime="",a.historyEndTime="",a.left=A.Z.setDateRange(a.left,a.right).start,a.right=A.Z.setDateRange(a.left,a.right).end,t.setState(a))}}));var l=x()();t.validValue=!0,t.trigger=(0,M.createRef)(),t.triggerEl=null;var h="",m="";return t.state={value:e.value,popupVisible:!1,isAbove:!1,left:{text:h,datePickerLevel:"day",year:l.format("YYYY"),month:l.format("MM"),day:l.format("DD")},right:{text:m,datePickerLevel:"day",year:12==l.format("MM")?+l.format("YYYY")+1:l.format("YYYY"),month:12==l.format("MM")?1:+l.format("MM")+1,day:l.format("DD")},startTime:"",endTime:"",historyStartTime:"",historyEndTime:"",hoverTime:""},t}return m()(i,[{key:"componentDidMount",value:function(){var e=this.props,t=e.value,r=e.dateFormat;this.setValue(t,r),this.triggerEl=this.trigger&&this.trigger.current&&(0,b.findDOMNode)(this.trigger.current)}},{key:"render",value:function(){var e=this,t=this.props,r=t.className,a=t.style,i=t.name,l=t.placeholder,s=t.dateFormat,h=t.maxValue,m=t.minValue,f=t.position,c=t.popupClassName,d=t.rightIconCls,u=t.readOnly,g=t.disabled,p=t.parentEl,y=o()(t,["className","style","name","placeholder","dateFormat","maxValue","minValue","position","popupClassName","rightIconCls","readOnly","disabled","parentEl"]),v=this.state,Y=v.popupVisible,C=v.left,D=v.right,b=v.startTime,E=v.endTime,P=v.hoverTime,k=v.isAbove,S=this.handleMonthAndYearChange,I=this.handleDayPickerChange,j=this.handleDatePickerChange,w=this.handleDayPickerHover,B=this.handleMonthPickerChange,H=this.handleYearPickerChange,q=C.text&&D.text?C.text+"~ "+D.text:"",z=D.year,G=D.month;z=1==G?+z-1:z,G=1==G?11:+G-2;var J=A.Z.MonthDays(z)[G],K=h&&x()([z,G,J]).isAfter(h)?h:x()([z,G,J]).format("YYYY-MM-DD"),Q=C.year,U=C.month;Q=12==U?+Q+1:Q,U=12==U?1:+U+1;var W=m&&x()([Q,U-1,1]).isBefore(m)?m:x()([Q,U-1,1]).format("YYYY-MM-DD"),X=_(_({},C),{},{value:C.text,maxValue:K,minValue:m,startTime:b,endTime:E,hoverTime:P,dateFormat:s}),$=_(_({},D),{},{value:D.text,minValue:W,maxValue:h,startTime:b,endTime:E,hoverTime:P,dateFormat:s});return M.createElement("div",{className:O()("date-range-picker",T()({},r,r)),style:a},M.createElement(V.Z,{ref:this.trigger,className:"date-range-picker-field",name:i,placeholder:l,value:q,readOnly:!0,disabled:g,rightIconCls:d,clearButtonVisible:!1,isFocusedSelectAll:!1,onClick:function(t){e.togglePopup(t)}}),M.createElement(N.Z,{className:"date-range-picker-popup ".concat(c),visible:Y,parentEl:p,triggerEl:this.triggerEl,position:f||(k?L.Z.TOP_LEFT:L.Z.BOTTOM_LEFT),hasTriangle:!1,onRender:this.handlePopupRender,onRequestClose:this.closePopup},M.createElement("div",{className:"calendar-date-input-wrap"},M.createElement("div",{className:"DateRangePickerHeaderInput"},M.createElement(V.Z,{className:"fl calendar-input",placeholder:l,value:C.text,clearButtonVisible:!1,readOnly:u,onChange:function(t){e.handleTextFieldChange("left",t)}}),M.createElement(V.Z,{className:"fl calendar-input",placeholder:l,value:D.text,clearButtonVisible:!1,readOnly:u,onChange:function(t){e.handleTextFieldChange("right",t)}}))),"day"==C.datePickerLevel?M.createElement(Z.Z,n()({},y,X,{isFooter:!1,isRange:!0,monthAndYearChange:function(e){return S("left",e)},onChange:function(e){return I("left",e)},previousClick:function(e){return j("left",e)},hoverHandle:function(e){return w("left",e)}})):"month"==C.datePickerLevel?M.createElement(F.Z,n()({},y,X,{onChange:function(e){return B("left",e)},previousClick:function(e){return j("left",e)}})):M.createElement(R.Z,n()({},y,X,{onChange:function(e){return H("left",e)}})),"day"==D.datePickerLevel?M.createElement(Z.Z,n()({},y,$,{isFooter:!1,isRange:!0,monthAndYearChange:function(e){return S("right",e)},onChange:function(e){return I("right",e)},previousClick:function(e){return j("right",e)},hoverHandle:function(e){return w("left",e)}})):"month"==D.datePickerLevel?M.createElement(F.Z,n()({},y,$,{onChange:function(e){return B("right",e)},previousClick:function(e){return j("right",e)}})):M.createElement(R.Z,n()({},y,$,{onChange:function(e){return H("right",e)}}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=B.Z.getDerivedState(e,t,"value");return{prevProps:e,dateFormat:B.Z.getDerivedState(e,t,"dateFormat"),value:r}}}]),i}(M.Component);T()(q,"Theme",I.Z),T()(q,"Position",L.Z),q.propTypes={className:D().string,popupClassName:D().string,style:D().object,name:D().string,value:D().array,maxValue:D().string,minValue:D().string,placeholder:D().string,dateFormat:D().string,readOnly:D().bool,disabled:D().bool,popupVisible:D().bool,position:D().oneOf(j.Z.enumerateValue(L.Z)),rightIconCls:D().string,previousYearIconCls:D().string,previousMonthIconCls:D().string,nextYearIconCls:D().string,nextMonthIconCls:D().string,parentEl:D().object,onChange:D().func},q.defaultProps={name:"",placeholder:"Date",popupClassName:"",dateFormat:"YYYY-MM-DD",previousYearIconCls:"fas fa-angle-double-left",previousMonthIconCls:"fas fa-angle-left",nextYearIconCls:"fas fa-angle-double-right",nextMonthIconCls:"fas fa-angle-right",position:L.Z.BOTTOM_LEFT,readOnly:!1,disabled:!1};const z=q}}]);