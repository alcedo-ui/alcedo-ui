(self.webpackChunkalcedo_ui=self.webpackChunkalcedo_ui||[]).push([[9080],{39080:(e,t,i)=>{"use strict";i.d(t,{Z:()=>M});var n=i(50008),l=i.n(n),r=i(34575),a=i.n(r),o=i(93913),s=i.n(o),p=i(81506),u=i.n(p),c=i(2205),d=i.n(c),f=i(78585),h=i.n(f),m=i(29754),g=i.n(m),v=i(59713),y=i.n(v),F=i(37699),C=i(45697),b=i.n(C),E=i(11669),D=i(23046),P=i(35720),Z=i(62457),R=i(87712),T=i(65248),S=i(79958),I=i(41844),O=i.n(I),k=i(81540),N=i(67243),w=i(25681),V=i(19605);var L=function(e){d()(r,e);var t,i,n=(t=r,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=g()(t);if(i){var l=g()(this).constructor;e=Reflect.construct(n,arguments,l)}else e=n.apply(this,arguments);return h()(this,e)});function r(e){var t;a()(this,r);for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return t=n.call.apply(n,[this,e].concat(o)),y()(u()(t),"filterData",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.state.filter,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.props.data,n=t.props.minFilterLength;if(!e||e.length<n)return i;var r=t.props,a=r.valueField,o=r.displayField,s=r.renderer,p=r.filterCallback;return p?p(e,i):i.filter((function(t){if(!t)return!1;if(s)return s(t).toString().toUpperCase().includes(e.toUpperCase());if("object"===l()(t)){var i=k.Z.getTextByDisplayField(t,o,a);if(i)return i.toString().toUpperCase().includes(e.toUpperCase())}return t.toString().toUpperCase().includes(e.toUpperCase())}))})),y()(u()(t),"handleFilterFocus",(function(){if(!t.props.disabled){var e=t.props.onFocus,i=t.state.filter,n={filterFocused:!0,tempSelectIndex:null};e&&e.apply(void 0,arguments),i&&(n.popupVisible=!0),t.setState(n)}})),y()(u()(t),"handleFilterBlur",(function(){var e=t.props,i=e.disabled,n=e.onBlur;!i&&n&&n.apply(void 0,arguments)})),y()(u()(t),"handleFilterKeyDown",(function(e){var i=t.props.useDynamicRenderList,n=t.state,l=n.tempSelectIndex,r=n.listData,a=i?t.dynamicRenderList&&t.dynamicRenderList.current:t.list&&t.list.current,o=null;if(38===e.keyCode||40===e.keyCode){o={};var s=!isNaN(l)&&l>-1?l:-1;38===e.keyCode?s--:40===e.keyCode&&s++,o.tempSelectIndex=w.Z.range(s,0,r.length-1)}t.setState(o,(function(){var i=t.props.onFilterKeyDown;i&&i(e),a&&a.adjustScroll()}))})),y()(u()(t),"handleFilterPressEnter",(function(e,i){var n={};t.props.autoClose&&(n.popupVisible=!1),t.setState(n,(function(){var e=t.props.onFilterPressEnter;e&&e(i),t.update()}))})),y()(u()(t),"handleFilterChange",(function(e){var i=t.props,n=i.data,l=i.minFilterLength,r={filter:e,popupVisible:!!e&&e.length>=l,tempSelectIndex:null};e?r.listData=t.filterData(e):(r.listData=n,r.value=null),t.setState(r,(function(){var i=t.props.onFilterChange;i&&i(e),t.pop&&t.pop.current&&t.pop.current.resetPosition()}))})),y()(u()(t),"closePop",(function(){t.setState({popupVisible:!1},(function(){var e=t.props.onPopupClosed;e&&e()}))})),y()(u()(t),"handlePopupRender",(function(e){var i=N.Z.isAbove(t.wrapperEl,t.triggerEl,(0,S.findDOMNode)(e));i!==t.state.isAbove&&t.setState({isAbove:i})})),y()(u()(t),"handleItemClick",(function(e){var i=t.props,n=i.autoClose,l=i.valueField,r=i.displayField,a=i.renderer,o=a?a(e):k.Z.getTextByDisplayField(e,r,l),s={tempSelectIndex:null,value:e,filter:o,listData:t.filterData(o)},p=t.state.value!=e;n&&(s.popupVisible=!1),t.setState(s,(function(){var i=t.props,n=i.onItemClick,l=i.onChange;n&&n(e),p&&l&&l(e)}))})),y()(u()(t),"update",(function(){var e=t.props,i=e.displayField,n=e.valueField,l=e.renderer,r=t.state,a=r.filter,o=r.tempSelectIndex,s=r.listData,p=null;if(a&&s&&s.length>0){p={};var u=!isNaN(o)&&o>-1?o:-1;p.value=u>-1?s[u]:null,u>-1&&(p.filter=l?l(p.value):k.Z.getTextByDisplayField(p.value,i,n)),p.listData=t.filterData(p.filter)}p&&t.setState(p,(function(){var e=t.props,i=e.onFilterChange,n=e.onChange;i&&i(p.filter),n&&n(p.value)}))})),t.wrapper=(0,F.createRef)(),t.wrapperEl=null,t.trigger=(0,F.createRef)(),t.triggerEl=null,t.pop=(0,F.createRef)(),t.dynamicRenderList=(0,F.createRef)(),t.list=(0,F.createRef)(),t.state={tempSelectIndex:null,value:e.value,filter:e.filterInitValue,popupVisible:!1,isAbove:!1,listData:e.data},t}return s()(r,[{key:"componentDidMount",value:function(){this.wrapperEl=this.wrapper&&this.wrapper.current,this.triggerEl=this.trigger&&this.trigger.current&&(0,S.findDOMNode)(this.trigger.current)}},{key:"render",value:function(){var e=this.props,t=e.className,i=e.popupClassName,n=e.style,l=e.popupStyle,r=e.theme,a=e.popupTheme,o=e.name,s=e.placeholder,p=e.disabled,u=e.iconCls,c=e.rightIconCls,d=e.valueField,f=e.displayField,h=e.descriptionField,m=e.position,g=e.noMatchedPopupVisible,v=e.noMatchedMsg,C=e.popupChildren,b=e.renderer,R=e.resetPopPositionWait,S=e.useDynamicRenderList,I=e.listHeight,N=e.itemHeight,w=e.scrollBuffer,V=e.onFilterClear,L=e.onMouseOver,M=e.onMouseOut,x=e.parentEl,B=this.state,A=B.isAbove,U=B.tempSelectIndex,j=B.value,H=B.filter,_=B.popupVisible,K=B.listData,W=m===T.Z.TOP||m===T.Z.TOP_LEFT||m===T.Z.TOP_RIGHT||!m&&A,q=!K||K.length<1;return F.createElement("div",{ref:this.wrapper,className:O()("auto-complete-filter",y()({},t,t)),style:n},o?F.createElement("input",{type:"hidden",name:o,value:k.Z.getValueByValueField(j,d,f)}):null,F.createElement(E.Z,{ref:this.trigger,className:O()("auto-complete-filter-trigger",q&&!g?"":_?" activated":"",W?" above":" blow"),theme:r,value:H,placeholder:s,disabled:p,iconCls:u,rightIconCls:c,onFocus:this.handleFilterFocus,onBlur:this.handleFilterBlur,onMouseOver:L,onMouseOut:M,onChange:this.handleFilterChange,onKeyDown:this.handleFilterKeyDown,onPressEnter:this.handleFilterPressEnter,onClear:V,onRightIconClick:this.handleFilterPressEnter}),q&&!g?null:F.createElement(D.Z,{ref:this.pop,className:O()("auto-complete-filter-popup",W?" above":" blow",y()({},i,i)),style:Object.assign({width:this.triggerEl&&getComputedStyle(this.triggerEl).width},l),theme:a,visible:_,triggerEl:this.triggerEl,parentEl:x,hasTriangle:!1,position:m||(A?T.Z.TOP_LEFT:T.Z.BOTTOM_LEFT),resetPositionWait:R,onRender:this.handlePopupRender,onRequestClose:this.closePop},q?F.createElement(P.Z,{className:"auto-complete-filter-list",theme:a,data:[{itemRenderer:function(){return F.createElement("div",{className:"no-matched-list-item"},v||F.createElement("span",null,F.createElement("i",{className:"fas fa-exclamation-triangle no-matched-list-item-icon"}),"No matched value."))},disableTouchRipple:!0}]}):S?F.createElement(Z.Z,{ref:this.dynamicRenderList,className:"auto-complete-filter-list",theme:a,data:K,value:K[U],valueField:d,displayField:f,descriptionField:h,renderer:b,listHeight:I,itemHeight:N,scrollBuffer:w,onItemClick:this.handleItemClick}):F.createElement(P.Z,{ref:this.list,className:"auto-complete-filter-list",theme:a,data:K,value:K[U],valueField:d,displayField:f,descriptionField:h,renderer:b,onItemClick:this.handleItemClick}),C))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{prevProps:e,value:V.Z.getDerivedState(e,t,"value")}}}]),r}(F.Component);y()(L,"Theme",R.Z),y()(L,"Position",T.Z),L.propTypes={className:b().string,popupClassName:b().string,style:b().object,popupStyle:b().object,theme:b().oneOf(k.Z.enumerateValue(R.Z)),popupTheme:b().oneOf(k.Z.enumerateValue(R.Z)),position:b().oneOf(k.Z.enumerateValue(T.Z)),name:b().string,placeholder:b().string,data:b().oneOfType([b().arrayOf(b().oneOfType([b().shape({className:b().string,style:b().object,theme:b().oneOf(k.Z.enumerateValue(R.Z)),value:b().oneOfType([b().string,b().number]),desc:b().oneOfType([b().string,b().number]),disabled:b().bool,isLoading:b().bool,disableTouchRipple:b().bool,iconCls:b().string,rightIconCls:b().string,itemRenderer:b().func,onClick:b().func}),b().string,b().number])),b().array]).isRequired,value:b().any,disabled:b().bool,valueField:b().string,displayField:b().string,descriptionField:b().string,autoClose:b().bool,minFilterLength:b().number,filterCallback:b().func,iconCls:b().string,rightIconCls:b().string,noMatchedPopupVisible:b().bool,noMatchedMsg:b().string,parentEl:b().object,popupChildren:b().any,filterInitValue:b().string,useDynamicRenderList:b().bool,resetPopPositionWait:b().number,listHeight:b().number,itemHeight:b().number,scrollBuffer:b().number,renderer:b().func,onFilterChange:b().func,onFilterPressEnter:b().func,onFilterClear:b().func,onChange:b().func,onItemClick:b().func,onFocus:b().func,onBlur:b().func,onMouseOver:b().func,onMouseOut:b().func,onPopupClosed:b().func,onFilterKeyDown:b().func},L.defaultProps={theme:R.Z.DEFAULT,popupTheme:R.Z.DEFAULT,data:[],disabled:!1,valueField:"value",displayField:"text",descriptionField:"desc",autoClose:!1,minFilterLength:1,iconCls:null,rightIconCls:"fas fa-search",noMatchedPopupVisible:!0,filterInitValue:"",useDynamicRenderList:!1,resetPopPositionWait:250};const M=L}}]);