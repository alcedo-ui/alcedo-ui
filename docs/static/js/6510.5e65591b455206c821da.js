"use strict";(self.webpackChunkalcedo_ui=self.webpackChunkalcedo_ui||[]).push([[6510],{66510:(e,t,l)=>{l.d(t,{Z:()=>O});var n=l(87462),o=l(45987),s=l(15671),r=l(43144),a=l(97326),i=l(60136),c=l(82963),d=l(61120),p=l(4942),u=l(37699),h=l(45697),f=l.n(h),g=l(1469),C=l.n(g),Z=l(41844),m=l.n(Z),v=l(4313),I=l(12736),P=l(11669),k=l(45580),N=l(87712),y=l(59448),S=l(43226),b=l(65248),T=l(81540),E=l(13103),F=l(19605),w=l(25299),R=l(57949),x=["className","triggerClassName","popupClassName","style","name","data","popupTheme","renderer","selectMode","valueField","displayField","descriptionField","triggerRenderer","useFilter","filterIconCls","filterPlaceholder","useSelectAll","selectAllText","isSelectRecursive","allowCollapse","collapsed","indentWidth","onNodeClick","popupChildren","noMatchedMsg","isNodeCollapsed","collapsedIconCls","expandedIconCls","radioUncheckedIconCls","radioCheckedIconCls","checkboxUncheckedIconCls","checkboxCheckedIconCls","checkboxIndeterminateIconCls","value","onChange"];var M=function(e){(0,i.Z)(f,e);var t,l,h=(t=f,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,d.Z)(t);if(l){var o=(0,d.Z)(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function f(e){var t;(0,s.Z)(this,f);for(var l=arguments.length,n=new Array(l>1?l-1:0),o=1;o<l;o++)n[o-1]=arguments[o];return t=h.call.apply(h,[this,e].concat(n)),(0,p.Z)((0,a.Z)(t),"startRipple",(function(e,l){t.dropdownInstance&&t.dropdownInstance.startRipple(e,l)})),(0,p.Z)((0,a.Z)(t),"endRipple",(function(){t.dropdownInstance&&t.dropdownInstance.endRipple()})),(0,p.Z)((0,a.Z)(t),"triggerRipple",(function(e,l){t.dropdownInstance&&t.dropdownInstance.triggerRipple(e,l)})),(0,p.Z)((0,a.Z)(t),"resetPopupPosition",(function(){t.dropdownInstance&&t.dropdownInstance.resetPosition()})),(0,p.Z)((0,a.Z)(t),"openPopup",(function(){t.dropdownInstance&&t.dropdownInstance.openPopup()})),(0,p.Z)((0,a.Z)(t),"closePopup",(function(){t.dropdownInstance&&t.dropdownInstance.closePopup()})),(0,p.Z)((0,a.Z)(t),"getTriggerValue",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.props,l=e.data,n=e.selectMode,o=e.placeholder,s=e.triggerRenderer,r=e.renderer,a=e.displayField,i=e.valueField,c=t.state,d=c.value,p=c.path,h=n===y.Z.MULTI_SELECT;if(s)return"function"==typeof s?s(d,p):s;if(!d)return o;if(h)return d.length>0?d.length+" selected":o;var f=[];function g(e,t){f.push(r?u.createElement("div",{key:2*t+1,className:"tree-select-trigger-value-node"},r(e,p&&p.slice(0,t+1))):T.ZP.getTextByDisplayField(e,a,i))}if(g(l,-1),p)for(var C=0,Z=p.length;C<Z;C++)f.push(u.createElement("i",{key:2*C,className:"fas fa-angle-right tree-select-trigger-value-separator"})),g(p[C].node,C);return f})),(0,p.Z)((0,a.Z)(t),"updateScrollHeight",(function(){if(t.scroller&&t.scroller.current){var e=w.ZP.findParentByClassName(t.scroller.current,"tree-select-popup");if(e){var l=e.offsetHeight;t.actions&&t.actions.current&&t.actions.current.offsetHeight&&(l-=t.actions.current.offsetHeight),t.setState({scrollerHeight:l})}}})),(0,p.Z)((0,a.Z)(t),"handleNodeSelect",(function(e,l,n){if(e){var o=t.props,s=o.selectMode,r=o.isSelectRecursive,a=t.state.value,i={},c=null;s===y.Z.MULTI_SELECT?(c=a&&C()(a)?a.slice():[],r?(E.ZP.addRecursiveValue(e,c,t.props),c=E.ZP.updateValue(c,t.props)):c.push(e)):s===y.Z.SINGLE_SELECT&&(c=e,i.path=l),t.setState(i,(function(){var o=t.props.onNodeSelect;o&&o(e,l,n),t.handleChange(c)}))}})),(0,p.Z)((0,a.Z)(t),"handleNodeDeselect",(function(e,l,n){var o=t.props.selectMode;if(e&&o===y.Z.MULTI_SELECT){var s=t.props.isSelectRecursive,r=t.state.value,a=r?r.slice():r;if(a&&C()(a))if(s)E.ZP.removeRecursiveValue(e,a,t.props),a=E.ZP.updateValue(a,t.props);else{var i=R.Z.getMultiSelectItemIndex(e,a,t.props);i>-1&&a.splice(i,1)}else a=[];var c=t.props.onNodeDeselect;c&&c(e,l,n),t.handleChange(a)}})),(0,p.Z)((0,a.Z)(t),"handleChange",(function(e){t.props.autoClose&&t.closePopup(),t.setState({value:e},(function(){var l=t.props.onChange;l&&l(e)}))})),(0,p.Z)((0,a.Z)(t),"handlePopupOpen",(function(e){var l=t.props,n=l.useFilter,o=l.onOpenPopup;n&&t.filter&&t.filter.current&&t.filter.current.focus(),t.updateScrollHeight(),o&&o(e)})),(0,p.Z)((0,a.Z)(t),"handlePopupClosed",(function(e){t.setState({popupVisible:!1},(function(){var l=t.props.onClosePopup;l&&l(e)}))})),(0,p.Z)((0,a.Z)(t),"handleFilterChange",(function(e){t.setState({filter:e},(function(){t.dropdownInstance&&t.dropdownInstance.resetPopupPosition()}))})),(0,p.Z)((0,a.Z)(t),"handleSelectAllClick",(function(){var e=t.state.value,l=t.data||t.props.data;if(t.isCheckedAll)t.handleChange(E.ZP.removeAllNode(l,e,t.props));else{var n=e||[];E.ZP.addRecursiveValue(C()(l)?{children:l}:l,n,t.props),t.handleChange(E.ZP.updateValue(n,t.props))}})),(0,p.Z)((0,a.Z)(t),"isEmpty",(function(){var e,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.state.filter,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.data||t.props.data;if(!l)return!n;var o=t.props.displayField,s=!0;return T.ZP.preOrderTraverse(C()(n)?(e={},(0,p.Z)(e,S.Z,!0),(0,p.Z)(e,"children",n),e):n,(function(e){if(e&&e[o]&&e[o].toString().toUpperCase().includes(l.toUpperCase()))return s=!1})),s})),t.dropdown=(0,u.createRef)(),t.dropdownInstance=null,t.actions=(0,u.createRef)(),t.filter=(0,u.createRef)(),t.scroller=(0,u.createRef)(),t.state={filter:"",value:e.value,popupVisible:!1,scrollerHeight:"auto",path:e.selectMode===y.Z.SINGLE_SELECT?E.ZP.calPath(e.value,e.data,e):void 0},t}return(0,r.Z)(f,[{key:"componentDidMount",value:function(){this.dropdownInstance=this.dropdown&&this.dropdown.current}},{key:"render",value:function(){var e=this.props,t=e.className,l=e.triggerClassName,s=e.popupClassName,r=e.style,a=e.name,i=e.data,c=e.popupTheme,d=e.renderer,h=e.selectMode,f=e.valueField,g=e.displayField,C=e.descriptionField,Z=e.triggerRenderer,N=e.useFilter,S=e.filterIconCls,b=e.filterPlaceholder,F=e.useSelectAll,w=e.selectAllText,R=e.isSelectRecursive,M=e.allowCollapse,O=e.collapsed,V=e.indentWidth,A=e.onNodeClick,L=e.popupChildren,U=e.noMatchedMsg,D=e.isNodeCollapsed,W=e.collapsedIconCls,_=e.expandedIconCls,H=e.radioUncheckedIconCls,B=e.radioCheckedIconCls,j=e.checkboxUncheckedIconCls,G=e.checkboxCheckedIconCls,q=e.checkboxIndeterminateIconCls,z=(e.value,e.onChange,(0,o.Z)(e,x)),J=this.state,K=J.value,Q=J.filter,X=J.popupVisible,Y=J.scrollerHeight,$=h===y.Z.MULTI_SELECT;return this.data=E.ZP.filterData(i,Q,this.props),this.total=E.ZP.getTotalCount(this.data),$&&(this.isCheckedAll=E.ZP.isCheckedAll(this.data,K,this.props),this.isCheckedIndeterminate=E.ZP.isCheckedIndeterminate(this.data,K,this.props)),u.createElement("div",{className:m()("tree-select",(0,p.Z)({},t,t)),style:r},a?u.createElement("input",{type:"hidden",name:a,value:T.ZP.getValueByValueField(K,f,g)}):null,u.createElement(v.Z,(0,n.Z)({},z,{ref:this.dropdown,triggerClassName:m()((0,p.Z)({activated:X,empty:!Z&&(!K||K.length<1)},l,l)),popupClassName:m()("tree-select-popup",(0,p.Z)({},s,s)),popupTheme:c,triggerValue:this.getTriggerValue(),onOpenPopup:this.handlePopupOpen,onClosePopup:this.handlePopupClosed}),N||$&&F?u.createElement("div",{ref:this.actions,className:"tree-select-popup-actions"},N?u.createElement(P.Z,{ref:this.filter,className:"tree-select-filter",value:Q,placeholder:b,rightIconCls:S,onChange:this.handleFilterChange}):null,$&&F?u.createElement("div",{className:"tree-node tree-select-all-wrapper",style:{padding:"0 ".concat(V,"px")},onClick:this.handleSelectAllClick},u.createElement("div",{className:"tree-node-inner"},u.createElement(k.Z,{className:"tree-node-select",checked:this.isCheckedAll,indeterminate:this.isCheckedIndeterminate,uncheckedIconCls:j,checkedIconCls:G,indeterminateIconCls:q}),w)):null):null,u.createElement("div",{ref:this.scroller,className:"tree-select-list-scroller",style:{height:Y}},this.isEmpty()?u.createElement("div",{className:"no-matched"},U||u.createElement("span",null,u.createElement("i",{className:"fas fa-exclamation-triangle no-matched-icon"}),"No matched value.")):u.createElement(I.Z,{className:"tree-select-list",theme:c,selectMode:h,data:this.data,value:K,valueField:f,displayField:g,descriptionField:C,isSelectRecursive:R,allowCollapse:M,collapsed:O,indentWidth:V,collapsedIconCls:W,expandedIconCls:_,radioUncheckedIconCls:H,radioCheckedIconCls:B,checkboxUncheckedIconCls:j,checkboxCheckedIconCls:G,checkboxIndeterminateIconCls:q,renderer:d,isNodeCollapsed:D,onNodeClick:A,onNodeSelect:this.handleNodeSelect,onNodeDeselect:this.handleNodeDeselect})),L))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{prevProps:e,value:F.Z.getDerivedState(e,t,"value")}}}]),f}(u.Component);(0,p.Z)(M,"SelectMode",y.Z),(0,p.Z)(M,"Theme",N.Z),(0,p.Z)(M,"Position",b.Z),(0,p.Z)(M,"TipPosition",b.Z),M.propTypes={className:f().string,triggerClassName:f().string,popupClassName:f().string,style:f().object,popupStyle:f().object,theme:f().oneOf(T.ZP.enumerateValue(N.Z)),popupTheme:f().oneOf(T.ZP.enumerateValue(N.Z)),position:f().oneOf(T.ZP.enumerateValue(b.Z)),name:f().string,value:f().any,placeholder:f().string,title:f().string,tip:f().string,tipPosition:f().oneOf(T.ZP.enumerateValue(b.Z)),triggerValue:f().string,rightIconCls:f().string,data:f().oneOfType([f().shape({className:f().string,style:f().object,theme:f().oneOf(T.ZP.enumerateValue(N.Z)),value:f().oneOfType([f().string,f().number]),text:f().oneOfType([f().string,f().number]),desc:f().oneOfType([f().string,f().number]),disabled:f().bool,isLoading:f().bool,iconCls:f().string,rightIconCls:f().string,title:f().string,children:f().array,itemRenderer:f().func,onClick:f().func}),f().array]),invalidMsg:f().string,disabled:f().bool,selectMode:f().oneOf(T.ZP.enumerateValue(y.Z)),valueField:f().string,displayField:f().string,descriptionField:f().string,infoMsg:f().string,textFormat:f().func,autoClose:f().bool,useFilter:f().bool,filterIconCls:f().string,filterPlaceholder:f().string,useSelectAll:f().bool,selectAllText:f().string,noMatchedMsg:f().string,isSelectRecursive:f().bool,allowCollapse:f().bool,collapsed:f().bool,autoPopupWidth:f().bool,collapsedIconCls:f().string,expandedIconCls:f().string,radioUncheckedIconCls:f().string,radioCheckedIconCls:f().string,checkboxUncheckedIconCls:f().string,checkboxCheckedIconCls:f().string,checkboxIndeterminateIconCls:f().string,popupChildren:f().any,resetPopPositionWait:f().number,indentWidth:f().number,renderer:f().func,triggerRenderer:f().oneOfType([f().number,f().string,f().func]),onNodeClick:f().func,onClosePopup:f().func,onChange:f().func,isNodeCollapsed:f().func,onFocus:f().func,onBlur:f().func,onMouseOver:f().func,onMouseOut:f().func,onOpenPopup:f().func,onNodeSelect:f().func,onNodeDeselect:f().func},M.defaultProps={theme:N.Z.DEFAULT,popupTheme:N.Z.DEFAULT,placeholder:"Please select ...",rightIconCls:"fas fa-angle-down",disabled:!1,selectMode:y.Z.SINGLE_SELECT,tipPosition:b.Z.BOTTOM,valueField:"value",displayField:"text",descriptionField:"desc",autoClose:!0,useFilter:!1,filterIconCls:"fas fa-search",filterPlaceholder:"Search ...",useSelectAll:!1,selectAllText:"Select All",isSelectRecursive:!1,allowCollapse:!0,collapsed:!1,autoPopupWidth:!0,resetPopPositionWait:250,indentWidth:20};const O=M}}]);